function a0_0x489d(_0x56c099,_0x3f26cd){var _0x378626=a0_0x3786();return a0_0x489d=function(_0x489d73,_0x48c1a0){_0x489d73=_0x489d73-0x1b0;var _0x22243e=_0x378626[_0x489d73];return _0x22243e;},a0_0x489d(_0x56c099,_0x3f26cd);}(function(_0xddc259,_0x463f3a){var _0x4fb66d=a0_0x489d,_0x5795c3=_0xddc259();while(!![]){try{var _0x375671=parseInt(_0x4fb66d(0x2cf))/0x1+parseInt(_0x4fb66d(0x2bf))/0x2+parseInt(_0x4fb66d(0x28d))/0x3+-parseInt(_0x4fb66d(0x26f))/0x4+parseInt(_0x4fb66d(0x31f))/0x5+parseInt(_0x4fb66d(0x202))/0x6+-parseInt(_0x4fb66d(0x2d1))/0x7;if(_0x375671===_0x463f3a)break;else _0x5795c3['push'](_0x5795c3['shift']());}catch(_0x277c4c){_0x5795c3['push'](_0x5795c3['shift']());}}}(a0_0x3786,0xa096e),!function(_0x4696d1,_0x4ff465){var _0x18de4d=a0_0x489d;'object'==typeof exports&&_0x18de4d(0x2ac)==typeof module?module[_0x18de4d(0x221)]=_0x4ff465(require(_0x18de4d(0x258))):_0x18de4d(0x28a)==typeof define&&define['amd']?define('mars3dWind',[_0x18de4d(0x258)],_0x4ff465):_0x18de4d(0x2ac)==typeof exports?exports[_0x18de4d(0x2c8)]=_0x4ff465(require(_0x18de4d(0x258))):_0x4696d1[_0x18de4d(0x2c8)]=_0x4ff465(_0x4696d1[_0x18de4d(0x258)]);}(window,function(_0x18c684){return function(_0x30310a){var _0x46ff26={};function _0x5bc1e7(_0x33f7c8){var _0x4d39dc=a0_0x489d;if(_0x46ff26[_0x33f7c8])return _0x46ff26[_0x33f7c8][_0x4d39dc(0x221)];var _0x1cc9c0=_0x46ff26[_0x33f7c8]={'i':_0x33f7c8,'l':!0x1,'exports':{}};return _0x30310a[_0x33f7c8][_0x4d39dc(0x2e3)](_0x1cc9c0[_0x4d39dc(0x221)],_0x1cc9c0,_0x1cc9c0[_0x4d39dc(0x221)],_0x5bc1e7),_0x1cc9c0['l']=!0x0,_0x1cc9c0['exports'];}return _0x5bc1e7['m']=_0x30310a,_0x5bc1e7['c']=_0x46ff26,_0x5bc1e7['d']=function(_0x372f06,_0x538cfb,_0x44279a){var _0x203be0=a0_0x489d;_0x5bc1e7['o'](_0x372f06,_0x538cfb)||Object[_0x203be0(0x2b5)](_0x372f06,_0x538cfb,{'enumerable':!0x0,'get':_0x44279a});},_0x5bc1e7['r']=function(_0x52aef5){var _0x3d5797=a0_0x489d;_0x3d5797(0x1ce)!=typeof Symbol&&Symbol['toStringTag']&&Object[_0x3d5797(0x2b5)](_0x52aef5,Symbol['toStringTag'],{'value':_0x3d5797(0x223)}),Object[_0x3d5797(0x2b5)](_0x52aef5,_0x3d5797(0x244),{'value':!0x0});},_0x5bc1e7['t']=function(_0x2a9a46,_0xa1ea70){var _0x2144cb=a0_0x489d;if(0x1&_0xa1ea70&&(_0x2a9a46=_0x5bc1e7(_0x2a9a46)),0x8&_0xa1ea70)return _0x2a9a46;if(0x4&_0xa1ea70&&_0x2144cb(0x2ac)==typeof _0x2a9a46&&_0x2a9a46&&_0x2a9a46['__esModule'])return _0x2a9a46;var _0x1224cf=Object[_0x2144cb(0x2ff)](null);if(_0x5bc1e7['r'](_0x1224cf),Object[_0x2144cb(0x2b5)](_0x1224cf,'default',{'enumerable':!0x0,'value':_0x2a9a46}),0x2&_0xa1ea70&&'string'!=typeof _0x2a9a46){for(var _0x9471e7 in _0x2a9a46)_0x5bc1e7['d'](_0x1224cf,_0x9471e7,function(_0x2bec0c){return _0x2a9a46[_0x2bec0c];}[_0x2144cb(0x27d)](null,_0x9471e7));}return _0x1224cf;},_0x5bc1e7['n']=function(_0x3867f2){var _0x5d5f5d=a0_0x489d,_0x4bf82f=_0x3867f2&&_0x3867f2[_0x5d5f5d(0x244)]?function(){var _0x242126=_0x5d5f5d;return _0x3867f2[_0x242126(0x2a6)];}:function(){return _0x3867f2;};return _0x5bc1e7['d'](_0x4bf82f,'a',_0x4bf82f),_0x4bf82f;},_0x5bc1e7['o']=function(_0x5eb3f3,_0x3bebdf){var _0x5ddfe1=a0_0x489d;return Object[_0x5ddfe1(0x2e0)][_0x5ddfe1(0x260)][_0x5ddfe1(0x2e3)](_0x5eb3f3,_0x3bebdf);},_0x5bc1e7['p']='',_0x5bc1e7(_0x5bc1e7['s']=0x1a);}([function(_0x59d6a1,_0x212a23){var _0x4cf215=a0_0x489d;_0x59d6a1[_0x4cf215(0x221)]=_0x18c684;},function(_0x38ff8c,_0xf7c51e){var _0x2989e7=a0_0x489d;_0x38ff8c[_0x2989e7(0x221)]=function(_0x23b9a7,_0x58095f){var _0x360de3=_0x2989e7;if(!(_0x23b9a7 instanceof _0x58095f))throw new TypeError(_0x360de3(0x29c));},_0x38ff8c[_0x2989e7(0x221)][_0x2989e7(0x244)]=!0x0,_0x38ff8c['exports'][_0x2989e7(0x2a6)]=_0x38ff8c[_0x2989e7(0x221)];},function(_0x4b96ef,_0x439842){var _0x2dd43d=a0_0x489d;function _0x578b2f(_0x4ce51c,_0x1fb3ed){var _0x1fc2b2=a0_0x489d;for(var _0x274098=0x0;_0x274098<_0x1fb3ed[_0x1fc2b2(0x296)];_0x274098++){var _0x5f22d5=_0x1fb3ed[_0x274098];_0x5f22d5[_0x1fc2b2(0x2ae)]=_0x5f22d5[_0x1fc2b2(0x2ae)]||!0x1,_0x5f22d5[_0x1fc2b2(0x1df)]=!0x0,_0x1fc2b2(0x328)in _0x5f22d5&&(_0x5f22d5[_0x1fc2b2(0x299)]=!0x0),Object[_0x1fc2b2(0x2b5)](_0x4ce51c,_0x5f22d5['key'],_0x5f22d5);}}_0x4b96ef[_0x2dd43d(0x221)]=function(_0x3f35ef,_0x2e8eaa,_0x13b3cf){var _0x34bac3=_0x2dd43d;return _0x2e8eaa&&_0x578b2f(_0x3f35ef[_0x34bac3(0x2e0)],_0x2e8eaa),_0x13b3cf&&_0x578b2f(_0x3f35ef,_0x13b3cf),Object[_0x34bac3(0x2b5)](_0x3f35ef,'prototype',{'writable':!0x1}),_0x3f35ef;},_0x4b96ef[_0x2dd43d(0x221)]['__esModule']=!0x0,_0x4b96ef[_0x2dd43d(0x221)][_0x2dd43d(0x2a6)]=_0x4b96ef[_0x2dd43d(0x221)];},function(_0x3400a7,_0x220823){var _0x16d7c7=a0_0x489d;function _0x31b283(_0x10ddd2){var _0x3251f7=a0_0x489d;return _0x3400a7['exports']=_0x31b283=Object['setPrototypeOf']?Object[_0x3251f7(0x1fa)]:function(_0x39110a){return _0x39110a['__proto__']||Object['getPrototypeOf'](_0x39110a);},_0x3400a7[_0x3251f7(0x221)][_0x3251f7(0x244)]=!0x0,_0x3400a7[_0x3251f7(0x221)][_0x3251f7(0x2a6)]=_0x3400a7[_0x3251f7(0x221)],_0x31b283(_0x10ddd2);}_0x3400a7[_0x16d7c7(0x221)]=_0x31b283,_0x3400a7['exports'][_0x16d7c7(0x244)]=!0x0,_0x3400a7['exports'][_0x16d7c7(0x2a6)]=_0x3400a7[_0x16d7c7(0x221)];},function(_0x363257,_0x107558,_0x3b366d){var _0x479f95=a0_0x489d,_0x319b66=_0x3b366d(0x16),_0x5c1459=_0x3b366d(0x17),_0x2913ef=_0x3b366d(0x18),_0x1aad92=_0x3b366d(0x19);_0x363257[_0x479f95(0x221)]=function(_0x31fcd1){return _0x319b66(_0x31fcd1)||_0x5c1459(_0x31fcd1)||_0x2913ef(_0x31fcd1)||_0x1aad92();},_0x363257[_0x479f95(0x221)][_0x479f95(0x244)]=!0x0,_0x363257['exports'][_0x479f95(0x2a6)]=_0x363257['exports'];},function(_0x43e0a2,_0xdd3a9f){var _0x1e7ce8=a0_0x489d;_0x43e0a2[_0x1e7ce8(0x221)]=function(_0x1a2259,_0x54aae4,_0x1e38b2){var _0x2c6a52=_0x1e7ce8;return _0x54aae4 in _0x1a2259?Object[_0x2c6a52(0x2b5)](_0x1a2259,_0x54aae4,{'value':_0x1e38b2,'enumerable':!0x0,'configurable':!0x0,'writable':!0x0}):_0x1a2259[_0x54aae4]=_0x1e38b2,_0x1a2259;},_0x43e0a2['exports']['__esModule']=!0x0,_0x43e0a2[_0x1e7ce8(0x221)][_0x1e7ce8(0x2a6)]=_0x43e0a2[_0x1e7ce8(0x221)];},function(_0xbd1af3,_0x55b115,_0x47233a){var _0x3b3f01=a0_0x489d,_0x390a29=_0x47233a(0x13);_0xbd1af3['exports']=function(_0x400d22,_0x2d1742){var _0x353117=a0_0x489d;if('function'!=typeof _0x2d1742&&null!==_0x2d1742)throw new TypeError('Super\x20expression\x20must\x20either\x20be\x20null\x20or\x20a\x20function');Object['defineProperty'](_0x400d22,_0x353117(0x2e0),{'value':Object[_0x353117(0x2ff)](_0x2d1742&&_0x2d1742[_0x353117(0x2e0)],{'constructor':{'value':_0x400d22,'writable':!0x0,'configurable':!0x0}}),'writable':!0x1}),_0x2d1742&&_0x390a29(_0x400d22,_0x2d1742);},_0xbd1af3[_0x3b3f01(0x221)][_0x3b3f01(0x244)]=!0x0,_0xbd1af3[_0x3b3f01(0x221)][_0x3b3f01(0x2a6)]=_0xbd1af3['exports'];},function(_0x2745b4,_0x541c61,_0x1d5281){var _0x595012=a0_0x489d,_0x298f4a=_0x1d5281(0x14)[_0x595012(0x2a6)],_0x533a87=_0x1d5281(0x15);_0x2745b4[_0x595012(0x221)]=function(_0x1c4bfe,_0x2d1fca){var _0x17cfa4=_0x595012;if(_0x2d1fca&&(_0x17cfa4(0x2ac)===_0x298f4a(_0x2d1fca)||_0x17cfa4(0x28a)==typeof _0x2d1fca))return _0x2d1fca;if(void 0x0!==_0x2d1fca)throw new TypeError(_0x17cfa4(0x29a));return _0x533a87(_0x1c4bfe);},_0x2745b4[_0x595012(0x221)]['__esModule']=!0x0,_0x2745b4[_0x595012(0x221)][_0x595012(0x2a6)]=_0x2745b4[_0x595012(0x221)];},function(_0xcad180,_0x1ee4dc){var _0xa9bd70=a0_0x489d;_0xcad180[_0xa9bd70(0x221)]='attribute\x20vec3\x20position;\x0d\x0aattribute\x20vec2\x20st;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20textureCoordinate\x20=\x20st;\x0d\x0a\x20\x20\x20\x20gl_Position\x20=\x20vec4(position,\x201.0);\x0d\x0a}';},function(_0x197341,_0x40876d){var _0x40c6ad=a0_0x489d;_0x197341[_0x40c6ad(0x221)]=function(_0x3a41af,_0x4f6ca5){var _0x2457ba=_0x40c6ad;(null==_0x4f6ca5||_0x4f6ca5>_0x3a41af[_0x2457ba(0x296)])&&(_0x4f6ca5=_0x3a41af['length']);for(var _0x24789b=0x0,_0x14a747=new Array(_0x4f6ca5);_0x24789b<_0x4f6ca5;_0x24789b++)_0x14a747[_0x24789b]=_0x3a41af[_0x24789b];return _0x14a747;},_0x197341[_0x40c6ad(0x221)][_0x40c6ad(0x244)]=!0x0,_0x197341[_0x40c6ad(0x221)]['default']=_0x197341['exports'];},function(_0x488148,_0x5974ae){var _0x178fad=a0_0x489d;_0x488148[_0x178fad(0x221)]=_0x178fad(0x337);},function(_0x106277,_0x31b5cd){var _0x3c1ee9=a0_0x489d;_0x106277[_0x3c1ee9(0x221)]=_0x3c1ee9(0x2da);},function(_0x1bbba5,_0x2aebdc){var _0x496a09=a0_0x489d;_0x1bbba5[_0x496a09(0x221)]=_0x496a09(0x20f);},function(_0x4b6127,_0x47dbd0){var _0x4d4ae4=a0_0x489d;_0x4b6127[_0x4d4ae4(0x221)]=_0x4d4ae4(0x1ec);},function(_0x328ab0,_0xfe5863){var _0x20fe04=a0_0x489d;_0x328ab0[_0x20fe04(0x221)]='//\x20the\x20size\x20of\x20UV\x20textures:\x20width\x20=\x20lon,\x20height\x20=\x20lat*lev\x0auniform\x20sampler2D\x20U;\x20//\x20eastward\x20wind\x20\x0auniform\x20sampler2D\x20V;\x20//\x20northward\x20wind\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0a\x0auniform\x20vec3\x20dimension;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20vec3\x20minimum;\x20//\x20minimum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20maximum;\x20//\x20maximum\x20of\x20each\x20dimension\x0auniform\x20vec3\x20interval;\x20//\x20interval\x20of\x20each\x20dimension\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20mapPositionToNormalizedIndex2D(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20range\x20of\x20longitude\x20and\x20latitude\x0a\x20\x20\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x,\x20360.0);\x0a\x20\x20\x20\x20lonLatLev.y\x20=\x20clamp(lonLatLev.y,\x20-90.0,\x2090.0);\x0a\x0a\x20\x20\x20\x20vec3\x20index3D\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20index3D.x\x20=\x20(lonLatLev.x\x20-\x20minimum.x)\x20/\x20interval.x;\x0a\x20\x20\x20\x20index3D.y\x20=\x20(lonLatLev.y\x20-\x20minimum.y)\x20/\x20interval.y;\x0a\x20\x20\x20\x20index3D.z\x20=\x20(lonLatLev.z\x20-\x20minimum.z)\x20/\x20interval.z;\x0a\x0a\x20\x20\x20\x20//\x20the\x20st\x20texture\x20coordinate\x20corresponding\x20to\x20(col,\x20row)\x20index\x0a\x20\x20\x20\x20//\x20example\x0a\x20\x20\x20\x20//\x20data\x20array\x20is\x20[0,\x201,\x202,\x203,\x204,\x205],\x20width\x20=\x203,\x20height\x20=\x202\x0a\x20\x20\x20\x20//\x20the\x20content\x20of\x20texture\x20will\x20be\x0a\x20\x20\x20\x20//\x20t\x201.0\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x203\x204\x205\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x0a\x20\x20\x20\x20//\x20\x20\x20\x20|\x20\x200\x201\x202\x0a\x20\x20\x20\x20//\x20\x20\x200.0------1.0\x20s\x0a\x0a\x20\x20\x20\x20vec2\x20index2D\x20=\x20vec2(index3D.x,\x20index3D.z\x20*\x20dimension.y\x20+\x20index3D.y);\x0a\x20\x20\x20\x20vec2\x20normalizedIndex2D\x20=\x20vec2(index2D.x\x20/\x20dimension.x,\x20index2D.y\x20/\x20(dimension.y\x20*\x20dimension.z));\x0a\x20\x20\x20\x20return\x20normalizedIndex2D;\x0a}\x0a\x0afloat\x20getWind(sampler2D\x20windTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20vec2\x20normalizedIndex2D\x20=\x20mapPositionToNormalizedIndex2D(lonLatLev);\x0a\x20\x20\x20\x20float\x20result\x20=\x20texture2D(windTexture,\x20normalizedIndex2D).r;\x0a\x20\x20\x20\x20return\x20result;\x0a}\x0a\x0aconst\x20mat4\x20kernelMatrix\x20=\x20mat4(\x0a\x20\x20\x20\x200.0,\x20-1.0,\x202.0,\x20-1.0,\x20//\x20first\x20column\x0a\x20\x20\x20\x202.0,\x200.0,\x20-5.0,\x203.0,\x20//\x20second\x20column\x0a\x20\x20\x20\x200.0,\x201.0,\x204.0,\x20-3.0,\x20//\x20third\x20column\x0a\x20\x20\x20\x200.0,\x200.0,\x20-1.0,\x201.0\x20//\x20fourth\x20column\x0a);\x0afloat\x20oneDimensionInterpolation(float\x20t,\x20float\x20p0,\x20float\x20p1,\x20float\x20p2,\x20float\x20p3)\x20{\x0a\x20\x20\x20\x20vec4\x20tVec4\x20=\x20vec4(1.0,\x20t,\x20t\x20*\x20t,\x20t\x20*\x20t\x20*\x20t);\x0a\x20\x20\x20\x20tVec4\x20=\x20tVec4\x20/\x202.0;\x0a\x20\x20\x20\x20vec4\x20pVec4\x20=\x20vec4(p0,\x20p1,\x20p2,\x20p3);\x0a\x20\x20\x20\x20return\x20dot((tVec4\x20*\x20kernelMatrix),\x20pVec4);\x0a}\x0a\x0afloat\x20calculateB(sampler2D\x20windTexture,\x20float\x20t,\x20float\x20lon,\x20float\x20lat,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20float\x20lon0\x20=\x20floor(lon)\x20-\x201.0\x20*\x20interval.x;\x0a\x20\x20\x20\x20float\x20lon1\x20=\x20floor(lon);\x0a\x20\x20\x20\x20float\x20lon2\x20=\x20floor(lon)\x20+\x201.0\x20*\x20interval.x;\x0a\x20\x20\x20\x20float\x20lon3\x20=\x20floor(lon)\x20+\x202.0\x20*\x20interval.x;\x0a\x0a\x20\x20\x20\x20float\x20p0\x20=\x20getWind(windTexture,\x20vec3(lon0,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p1\x20=\x20getWind(windTexture,\x20vec3(lon1,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p2\x20=\x20getWind(windTexture,\x20vec3(lon2,\x20lat,\x20lev));\x0a\x20\x20\x20\x20float\x20p3\x20=\x20getWind(windTexture,\x20vec3(lon3,\x20lat,\x20lev));\x0a\x0a\x20\x20\x20\x20return\x20oneDimensionInterpolation(t,\x20p0,\x20p1,\x20p2,\x20p3);\x0a}\x0a\x0afloat\x20interpolateOneTexture(sampler2D\x20windTexture,\x20vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20float\x20lon\x20=\x20lonLatLev.x;\x0a\x20\x20\x20\x20float\x20lat\x20=\x20lonLatLev.y;\x0a\x20\x20\x20\x20float\x20lev\x20=\x20lonLatLev.z;\x0a\x0a\x20\x20\x20\x20float\x20lat0\x20=\x20floor(lat)\x20-\x201.0\x20*\x20interval.y;\x0a\x20\x20\x20\x20float\x20lat1\x20=\x20floor(lat);\x0a\x20\x20\x20\x20float\x20lat2\x20=\x20floor(lat)\x20+\x201.0\x20*\x20interval.y;\x0a\x20\x20\x20\x20float\x20lat3\x20=\x20floor(lat)\x20+\x202.0\x20*\x20interval.y;\x0a\x0a\x20\x20\x20\x20vec2\x20coefficient\x20=\x20lonLatLev.xy\x20-\x20floor(lonLatLev.xy);\x0a\x20\x20\x20\x20float\x20b0\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat0,\x20lev);\x0a\x20\x20\x20\x20float\x20b1\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat1,\x20lev);\x0a\x20\x20\x20\x20float\x20b2\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat2,\x20lev);\x0a\x20\x20\x20\x20float\x20b3\x20=\x20calculateB(windTexture,\x20coefficient.x,\x20lon,\x20lat3,\x20lev);\x0a\x0a\x20\x20\x20\x20return\x20oneDimensionInterpolation(coefficient.y,\x20b0,\x20b1,\x20b2,\x20b3);\x0a}\x0a\x0avec3\x20bicubic(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20https://en.wikipedia.org/wiki/Bicubic_interpolation#Bicubic_convolution_algorithm\x0a\x20\x20\x20\x20float\x20u\x20=\x20interpolateOneTexture(U,\x20lonLatLev);\x0a\x20\x20\x20\x20float\x20v\x20=\x20interpolateOneTexture(V,\x20lonLatLev);\x0a\x20\x20\x20\x20float\x20w\x20=\x200.0;\x0a\x20\x20\x20\x20return\x20vec3(u,\x20v,\x20w);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20lonLatLev\x20=\x20texture2D(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20windVector\x20=\x20bicubic(lonLatLev);\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(windVector,\x200.0);\x0a}';},function(_0x5f51a0,_0x408587){var _0x274bd4=a0_0x489d;_0x5f51a0[_0x274bd4(0x221)]='uniform\x20sampler2D\x20currentParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0auniform\x20sampler2D\x20particlesWind;\x0a\x0a//\x20used\x20to\x20calculate\x20the\x20wind\x20norm\x0auniform\x20vec2\x20uSpeedRange;\x20//\x20(min,\x20max);\x0auniform\x20vec2\x20vSpeedRange;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20speedFactor;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0afloat\x20calculateWindNorm(vec3\x20speed)\x20{\x0a\x20\x20\x20\x20vec3\x20percent\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20percent.x\x20=\x20(speed.x\x20-\x20uSpeedRange.x)\x20/\x20(uSpeedRange.y\x20-\x20uSpeedRange.x);\x0a\x20\x20\x20\x20percent.y\x20=\x20(speed.y\x20-\x20vSpeedRange.x)\x20/\x20(vSpeedRange.y\x20-\x20vSpeedRange.x);\x0a\x20\x20\x20\x20float\x20normalization\x20=\x20length(percent);\x0a\x0a\x20\x20\x20\x20return\x20normalization;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20currentSpeed\x20=\x20texture2D(currentParticlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20windVector\x20=\x20texture2D(particlesWind,\x20v_textureCoordinates).rgb;\x0a\x0a\x20\x20\x20\x20vec4\x20nextSpeed\x20=\x20vec4(speedFactor\x20*\x20pixelSize\x20*\x20windVector,\x20calculateWindNorm(windVector));\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20nextSpeed;\x0a}';},function(_0xef7523,_0x4dfe47){_0xef7523['exports']='uniform\x20sampler2D\x20currentParticlesPosition;\x20//\x20(lon,\x20lat,\x20lev)\x0auniform\x20sampler2D\x20currentParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avec2\x20lengthOfLonLat(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20unit\x20conversion:\x20meters\x20->\x20longitude\x20latitude\x20degrees\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_system#Length_of_a_degree\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20Calculate\x20the\x20length\x20of\x20a\x20degree\x20of\x20latitude\x20and\x20longitude\x20in\x20meters\x0a\x20\x20\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x0a\x20\x20\x20\x20float\x20term1\x20=\x20111132.92;\x0a\x20\x20\x20\x20float\x20term2\x20=\x20559.82\x20*\x20cos(2.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term3\x20=\x201.175\x20*\x20cos(4.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term4\x20=\x200.0023\x20*\x20cos(6.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20latLength\x20=\x20term1\x20-\x20term2\x20+\x20term3\x20-\x20term4;\x0a\x0a\x20\x20\x20\x20float\x20term5\x20=\x20111412.84\x20*\x20cos(latitude);\x0a\x20\x20\x20\x20float\x20term6\x20=\x2093.5\x20*\x20cos(3.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20term7\x20=\x200.118\x20*\x20cos(5.0\x20*\x20latitude);\x0a\x20\x20\x20\x20float\x20longLength\x20=\x20term5\x20-\x20term6\x20+\x20term7;\x0a\x0a\x20\x20\x20\x20return\x20vec2(longLength,\x20latLength);\x0a}\x0a\x0avoid\x20updatePosition(vec3\x20lonLatLev,\x20vec3\x20speed)\x20{\x0a\x20\x20\x20\x20vec2\x20lonLatLength\x20=\x20lengthOfLonLat(lonLatLev);\x0a\x20\x20\x20\x20float\x20u\x20=\x20speed.x\x20/\x20lonLatLength.x;\x0a\x20\x20\x20\x20float\x20v\x20=\x20speed.y\x20/\x20lonLatLength.y;\x0a\x20\x20\x20\x20float\x20w\x20=\x200.0;\x0a\x20\x20\x20\x20vec3\x20windVectorInLonLatLev\x20=\x20vec3(u,\x20v,\x20w);\x0a\x0a\x20\x20\x20\x20vec3\x20nextParticle\x20=\x20lonLatLev\x20+\x20windVectorInLonLatLev;\x0a\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(nextParticle,\x200.0);\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20//\x20texture\x20coordinate\x20must\x20be\x20normalized\x0a\x20\x20\x20\x20vec3\x20lonLatLev\x20=\x20texture2D(currentParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec3\x20speed\x20=\x20texture2D(currentParticlesSpeed,\x20v_textureCoordinates).rgb;\x0a\x0a\x20\x20\x20\x20updatePosition(lonLatLev,\x20speed);\x0a}';},function(_0x118ee1,_0x36dcf6){var _0x45790a=a0_0x489d;_0x118ee1[_0x45790a(0x221)]=_0x45790a(0x2e5);},function(_0x12ecfd,_0x39ef33){var _0x152ee3=a0_0x489d;_0x12ecfd['exports']=_0x152ee3(0x2a1);},function(_0x5c2c05,_0x2b202a){var _0x197796=a0_0x489d;function _0x167528(_0x2d316f,_0x4e2a5e){var _0x4ca5f1=a0_0x489d;return _0x5c2c05[_0x4ca5f1(0x221)]=_0x167528=Object[_0x4ca5f1(0x1f5)]||function(_0x1ed499,_0x37bfd1){return _0x1ed499['__proto__']=_0x37bfd1,_0x1ed499;},_0x5c2c05[_0x4ca5f1(0x221)]['__esModule']=!0x0,_0x5c2c05['exports'][_0x4ca5f1(0x2a6)]=_0x5c2c05['exports'],_0x167528(_0x2d316f,_0x4e2a5e);}_0x5c2c05[_0x197796(0x221)]=_0x167528,_0x5c2c05[_0x197796(0x221)][_0x197796(0x244)]=!0x0,_0x5c2c05[_0x197796(0x221)][_0x197796(0x2a6)]=_0x5c2c05[_0x197796(0x221)];},function(_0x5327a5,_0x26619e){var _0xad86ad=a0_0x489d;function _0x293131(_0x1867e4){var _0x4e2210=a0_0x489d;return _0x5327a5[_0x4e2210(0x221)]=_0x293131=_0x4e2210(0x28a)==typeof Symbol&&_0x4e2210(0x1d3)==typeof Symbol[_0x4e2210(0x332)]?function(_0xce9746){return typeof _0xce9746;}:function(_0x25f818){var _0x496cbf=_0x4e2210;return _0x25f818&&_0x496cbf(0x28a)==typeof Symbol&&_0x25f818[_0x496cbf(0x1f1)]===Symbol&&_0x25f818!==Symbol[_0x496cbf(0x2e0)]?_0x496cbf(0x1d3):typeof _0x25f818;},_0x5327a5['exports']['__esModule']=!0x0,_0x5327a5[_0x4e2210(0x221)]['default']=_0x5327a5[_0x4e2210(0x221)],_0x293131(_0x1867e4);}_0x5327a5[_0xad86ad(0x221)]=_0x293131,_0x5327a5['exports']['__esModule']=!0x0,_0x5327a5['exports'][_0xad86ad(0x2a6)]=_0x5327a5[_0xad86ad(0x221)];},function(_0x3b697d,_0x4778a6){var _0x4d4086=a0_0x489d;_0x3b697d['exports']=function(_0x4a4fc8){if(void 0x0===_0x4a4fc8)throw new ReferenceError('this\x20hasn\x27t\x20been\x20initialised\x20-\x20super()\x20hasn\x27t\x20been\x20called');return _0x4a4fc8;},_0x3b697d[_0x4d4086(0x221)][_0x4d4086(0x244)]=!0x0,_0x3b697d['exports'][_0x4d4086(0x2a6)]=_0x3b697d[_0x4d4086(0x221)];},function(_0xfe85d6,_0x1328ef,_0x45eda9){var _0x21678f=a0_0x489d,_0x98530f=_0x45eda9(0x9);_0xfe85d6[_0x21678f(0x221)]=function(_0x8653e2){if(Array['isArray'](_0x8653e2))return _0x98530f(_0x8653e2);},_0xfe85d6[_0x21678f(0x221)][_0x21678f(0x244)]=!0x0,_0xfe85d6['exports']['default']=_0xfe85d6['exports'];},function(_0x467ea6,_0x1fbb24){var _0x39fb05=a0_0x489d;_0x467ea6[_0x39fb05(0x221)]=function(_0x29656f){var _0x229ecb=_0x39fb05;if(_0x229ecb(0x1ce)!=typeof Symbol&&null!=_0x29656f[Symbol[_0x229ecb(0x332)]]||null!=_0x29656f[_0x229ecb(0x227)])return Array['from'](_0x29656f);},_0x467ea6[_0x39fb05(0x221)][_0x39fb05(0x244)]=!0x0,_0x467ea6[_0x39fb05(0x221)][_0x39fb05(0x2a6)]=_0x467ea6['exports'];},function(_0x46ae29,_0x3d7c9f,_0x5570af){var _0x50dbaf=a0_0x489d,_0xc326a5=_0x5570af(0x9);_0x46ae29[_0x50dbaf(0x221)]=function(_0x43d35e,_0x5b427a){var _0x37cd95=_0x50dbaf;if(_0x43d35e){if(_0x37cd95(0x261)==typeof _0x43d35e)return _0xc326a5(_0x43d35e,_0x5b427a);var _0x55cd6b=Object[_0x37cd95(0x2e0)][_0x37cd95(0x308)][_0x37cd95(0x2e3)](_0x43d35e)[_0x37cd95(0x255)](0x8,-0x1);return _0x37cd95(0x28f)===_0x55cd6b&&_0x43d35e['constructor']&&(_0x55cd6b=_0x43d35e[_0x37cd95(0x1f1)][_0x37cd95(0x310)]),_0x37cd95(0x1c2)===_0x55cd6b||_0x37cd95(0x2a4)===_0x55cd6b?Array[_0x37cd95(0x24f)](_0x43d35e):'Arguments'===_0x55cd6b||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/[_0x37cd95(0x25d)](_0x55cd6b)?_0xc326a5(_0x43d35e,_0x5b427a):void 0x0;}},_0x46ae29[_0x50dbaf(0x221)][_0x50dbaf(0x244)]=!0x0,_0x46ae29['exports']['default']=_0x46ae29[_0x50dbaf(0x221)];},function(_0x42d598,_0x38e76b){var _0xe5d529=a0_0x489d;_0x42d598['exports']=function(){var _0x25f88a=a0_0x489d;throw new TypeError(_0x25f88a(0x317));},_0x42d598[_0xe5d529(0x221)][_0xe5d529(0x244)]=!0x0,_0x42d598[_0xe5d529(0x221)][_0xe5d529(0x2a6)]=_0x42d598['exports'];},function(_0x55f806,_0x558905,_0x5a49da){'use strict';var _0x42ce2c=a0_0x489d;_0x5a49da['r'](_0x558905),_0x5a49da['d'](_0x558905,_0x42ce2c(0x1be),function(){return _0x1cb742;}),_0x5a49da['d'](_0x558905,_0x42ce2c(0x2b0),function(){return _0x26bd2e;}),_0x5a49da['d'](_0x558905,_0x42ce2c(0x2cc),function(){return _0x278c72;});var _0x278c72={};_0x5a49da['r'](_0x278c72),_0x5a49da['d'](_0x278c72,_0x42ce2c(0x242),function(){return _0x210aa3;}),_0x5a49da['d'](_0x278c72,_0x42ce2c(0x246),function(){return _0x235d36;}),_0x5a49da['d'](_0x278c72,_0x42ce2c(0x29e),function(){return _0x2c4628;}),_0x5a49da['d'](_0x278c72,'getDirection',function(){return _0x3cb345;});var _0x3a7368=_0x5a49da(0x0),_0x319275=_0x5a49da(0x5),_0x56f4e1=_0x5a49da['n'](_0x319275),_0x439c3f=_0x5a49da(0x1),_0x27eb9=_0x5a49da['n'](_0x439c3f),_0x3814e3=_0x5a49da(0x2),_0x2b415b=_0x5a49da['n'](_0x3814e3),_0x2d1258=_0x5a49da(0x6),_0x54bae6=_0x5a49da['n'](_0x2d1258),_0x573b75=_0x5a49da(0x7),_0x26b7a2=_0x5a49da['n'](_0x573b75),_0x455504=_0x5a49da(0x3),_0x3499a8=_0x5a49da['n'](_0x455504),_0x322c3c=_0x5a49da(0x4),_0x2a2be5=_0x5a49da['n'](_0x322c3c),_0x1fa1b5=_0x3a7368[_0x42ce2c(0x1db)],_0x46c13a=(function(){var _0x3c3afd=_0x42ce2c;function _0x1a0992(_0x43d06c){var _0xf26039=a0_0x489d;_0x27eb9()(this,_0x1a0992),this['commandType']=_0x43d06c[_0xf26039(0x2cb)],this[_0xf26039(0x318)]=_0x43d06c[_0xf26039(0x318)],this[_0xf26039(0x1f9)]=_0x43d06c[_0xf26039(0x1f9)],this[_0xf26039(0x2f7)]=_0x43d06c['primitiveType'],this[_0xf26039(0x278)]=_0x43d06c[_0xf26039(0x278)],this[_0xf26039(0x1c9)]=_0x43d06c['vertexShaderSource'],this[_0xf26039(0x1fb)]=_0x43d06c[_0xf26039(0x1fb)],this[_0xf26039(0x1b4)]=_0x43d06c[_0xf26039(0x1b4)],this[_0xf26039(0x1e5)]=_0x43d06c[_0xf26039(0x1e5)],this[_0xf26039(0x251)]=_0x43d06c[_0xf26039(0x251)],this['autoClear']=_0x1fa1b5['defaultValue'](_0x43d06c['autoClear'],!0x1),this[_0xf26039(0x27b)]=_0x43d06c['preExecute'],this[_0xf26039(0x23f)]=!0x0,this['commandToExecute']=void 0x0,this['clearCommand']=void 0x0,this['autoClear']&&(this['clearCommand']=new _0x1fa1b5['ClearCommand']({'color':new _0x1fa1b5['Color'](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':this[_0xf26039(0x1e5)],'pass':_0x1fa1b5['Pass']['OPAQUE']}));}return _0x2b415b()(_0x1a0992,[{'key':'createCommand','value':function(_0x175e93){var _0x77c535=a0_0x489d;switch(this['commandType']){case _0x77c535(0x319):var _0x421933=_0x1fa1b5[_0x77c535(0x1eb)]['fromGeometry']({'context':_0x175e93,'geometry':this[_0x77c535(0x318)],'attributeLocations':this[_0x77c535(0x1f9)],'bufferUsage':_0x1fa1b5[_0x77c535(0x283)][_0x77c535(0x237)]}),_0x1ebd2e=_0x1fa1b5[_0x77c535(0x1f4)][_0x77c535(0x30a)]({'context':_0x175e93,'attributeLocations':this['attributeLocations'],'vertexShaderSource':this['vertexShaderSource'],'fragmentShaderSource':this[_0x77c535(0x1fb)]}),_0x23b45a=_0x1fa1b5[_0x77c535(0x215)][_0x77c535(0x30a)](this[_0x77c535(0x1b4)]);return new _0x1fa1b5[(_0x77c535(0x2ef))]({'owner':this,'vertexArray':_0x421933,'primitiveType':this[_0x77c535(0x2f7)],'uniformMap':this[_0x77c535(0x278)],'modelMatrix':_0x1fa1b5[_0x77c535(0x230)][_0x77c535(0x2eb)],'shaderProgram':_0x1ebd2e,'framebuffer':this[_0x77c535(0x1e5)],'renderState':_0x23b45a,'pass':_0x1fa1b5[_0x77c535(0x27c)]['OPAQUE']});case _0x77c535(0x298):return new _0x1fa1b5[(_0x77c535(0x287))]({'owner':this,'fragmentShaderSource':this['fragmentShaderSource'],'uniformMap':this[_0x77c535(0x278)],'outputTexture':this['outputTexture'],'persists':!0x0});default:return;}}},{'key':_0x3c3afd(0x263),'value':function(_0x729ca3,_0x3a9cd6){var _0x274373=_0x3c3afd;this[_0x274373(0x318)]=_0x3a9cd6;var _0x126f9a=_0x1fa1b5[_0x274373(0x1eb)][_0x274373(0x200)]({'context':_0x729ca3,'geometry':this[_0x274373(0x318)],'attributeLocations':this[_0x274373(0x1f9)],'bufferUsage':_0x1fa1b5[_0x274373(0x283)][_0x274373(0x237)]});this[_0x274373(0x2c6)][_0x274373(0x284)]=_0x126f9a;}},{'key':_0x3c3afd(0x2f9),'value':function(_0x5ef841){var _0x54b697=_0x3c3afd;this[_0x54b697(0x23f)]&&_0x5ef841[_0x54b697(0x247)]==_0x1fa1b5['SceneMode'][_0x54b697(0x20e)]&&(_0x1fa1b5[_0x54b697(0x207)](this[_0x54b697(0x2c6)])||(this[_0x54b697(0x2c6)]=this[_0x54b697(0x266)](_0x5ef841[_0x54b697(0x1f8)])),_0x1fa1b5[_0x54b697(0x207)](this[_0x54b697(0x27b)])&&this[_0x54b697(0x27b)](),_0x1fa1b5[_0x54b697(0x207)](this[_0x54b697(0x24d)])&&_0x5ef841[_0x54b697(0x1e0)][_0x54b697(0x240)](this[_0x54b697(0x24d)]),_0x5ef841[_0x54b697(0x1e0)][_0x54b697(0x240)](this[_0x54b697(0x2c6)]));}},{'key':'isDestroyed','value':function(){return!0x1;}},{'key':_0x3c3afd(0x297),'value':function(){var _0x18b25d=_0x3c3afd;return _0x1fa1b5[_0x18b25d(0x207)](this[_0x18b25d(0x2c6)])&&(this[_0x18b25d(0x2c6)][_0x18b25d(0x1e9)]=this[_0x18b25d(0x2c6)][_0x18b25d(0x1e9)]&&this[_0x18b25d(0x2c6)][_0x18b25d(0x1e9)]['destroy']()),_0x1fa1b5['destroyObject'](this);}}]),_0x1a0992;}()),_0x8283c1=_0x3a7368['Cesium'],_0x973f2d={'getFullscreenQuad':function(){var _0x54e825=_0x42ce2c;return new _0x8283c1['Geometry']({'attributes':new _0x8283c1[(_0x54e825(0x1f3))]({'position':new _0x8283c1[(_0x54e825(0x32c))]({'componentDatatype':_0x8283c1[_0x54e825(0x322)][_0x54e825(0x2a7)],'componentsPerAttribute':0x3,'values':new Float32Array([-0x1,-0x1,0x0,0x1,-0x1,0x0,0x1,0x1,0x0,-0x1,0x1,0x0])}),'st':new _0x8283c1['GeometryAttribute']({'componentDatatype':_0x8283c1['ComponentDatatype'][_0x54e825(0x2a7)],'componentsPerAttribute':0x2,'values':new Float32Array([0x0,0x0,0x1,0x0,0x1,0x1,0x0,0x1])})}),'indices':new Uint32Array([0x3,0x2,0x0,0x0,0x2,0x1])});},'createTexture':function(_0x36a0c1,_0x51048b){var _0x56d113=_0x42ce2c;if(_0x8283c1[_0x56d113(0x207)](_0x51048b)){var _0x5320c6={};_0x5320c6[_0x56d113(0x243)]=_0x51048b,_0x36a0c1[_0x56d113(0x27e)]=_0x5320c6;}return new _0x8283c1[(_0x56d113(0x236))](_0x36a0c1);},'createFramebuffer':function(_0x5888fe,_0x8295c9,_0x40b7b6){var _0x6e806e=_0x42ce2c;return new _0x8283c1[(_0x6e806e(0x289))]({'context':_0x5888fe,'colorTextures':[_0x8295c9],'depthTexture':_0x40b7b6});},'createRawRenderState':function(_0x4e8270){var _0x3685b6=_0x42ce2c,_0x28f663={'viewport':_0x4e8270[_0x3685b6(0x285)],'depthTest':_0x4e8270[_0x3685b6(0x2d0)],'depthMask':_0x4e8270['depthMask'],'blending':_0x4e8270[_0x3685b6(0x273)]};return _0x8283c1['Appearance'][_0x3685b6(0x30c)](!0x0,!0x1,_0x28f663);},'viewRectangleToLonLatRange':function(_0x2750ac){var _0x2ccb76=_0x42ce2c,_0x499c29,_0x17e546,_0x5d04c6={},_0x3bbeb4=_0x8283c1[_0x2ccb76(0x292)][_0x2ccb76(0x1b0)](_0x2750ac['west'],_0x8283c1[_0x2ccb76(0x292)][_0x2ccb76(0x2b7)]),_0x310e73=_0x8283c1[_0x2ccb76(0x292)][_0x2ccb76(0x1b0)](_0x2750ac[_0x2ccb76(0x22f)],_0x8283c1[_0x2ccb76(0x292)][_0x2ccb76(0x2b7)]),_0x40fa85=_0x2750ac['width'];_0x40fa85>_0x8283c1[_0x2ccb76(0x292)][_0x2ccb76(0x2b6)]?(_0x499c29=0x0,_0x17e546=_0x8283c1[_0x2ccb76(0x292)][_0x2ccb76(0x2b7)]):_0x310e73-_0x3bbeb4<_0x40fa85?(_0x499c29=_0x3bbeb4,_0x17e546=_0x3bbeb4+_0x40fa85):(_0x499c29=_0x3bbeb4,_0x17e546=_0x310e73),_0x5d04c6[_0x2ccb76(0x1ea)]={'min':_0x8283c1[_0x2ccb76(0x292)][_0x2ccb76(0x1cf)](_0x499c29),'max':_0x8283c1[_0x2ccb76(0x292)][_0x2ccb76(0x1cf)](_0x17e546)};var _0x16eb18=_0x2750ac[_0x2ccb76(0x228)],_0x278f4a=_0x2750ac[_0x2ccb76(0x1e4)],_0x34b4fb=_0x2750ac['height'],_0x16f162=_0x34b4fb>_0x8283c1[_0x2ccb76(0x292)]['PI']/0xc?_0x34b4fb/0x2:0x0,_0x29bf4c=_0x8283c1[_0x2ccb76(0x292)][_0x2ccb76(0x327)](_0x16eb18-_0x16f162),_0x1e77bf=_0x8283c1[_0x2ccb76(0x292)]['clampToLatitudeRange'](_0x278f4a+_0x16f162);return _0x29bf4c<-_0x8283c1[_0x2ccb76(0x292)]['PI_OVER_THREE']&&(_0x29bf4c=-_0x8283c1[_0x2ccb76(0x292)]['PI_OVER_TWO']),_0x1e77bf>_0x8283c1[_0x2ccb76(0x292)][_0x2ccb76(0x235)]&&(_0x1e77bf=_0x8283c1['Math']['PI_OVER_TWO']),_0x5d04c6[_0x2ccb76(0x1c8)]={'min':_0x8283c1[_0x2ccb76(0x292)][_0x2ccb76(0x1cf)](_0x29bf4c),'max':_0x8283c1[_0x2ccb76(0x292)]['toDegrees'](_0x1e77bf)},_0x5d04c6;}},_0x1d8555=_0x5a49da(0xa),_0x2caa30=_0x5a49da['n'](_0x1d8555),_0x5c5d15=_0x5a49da(0xb),_0x50c292=_0x5a49da['n'](_0x5c5d15),_0x30d62d=_0x5a49da(0x8),_0x40ae00=_0x5a49da['n'](_0x30d62d),_0x2f4e34=_0x5a49da(0xc),_0x12c115=_0x5a49da['n'](_0x2f4e34),_0x291ad2=_0x5a49da(0xd),_0x3afc24=_0x5a49da['n'](_0x291ad2),_0xcdac92=_0x3a7368[_0x42ce2c(0x1db)],_0x34dd3c=(function(){var _0xa3ba42=_0x42ce2c;function _0x19d175(_0x3af7de,_0x41efd3,_0x27f6c6,_0x51efb9,_0x305c94){var _0x4b2cbc=a0_0x489d;_0x27eb9()(this,_0x19d175),this[_0x4b2cbc(0x27f)](_0x3af7de,_0x41efd3,_0x27f6c6['colors']),this['createRenderingFramebuffers'](_0x3af7de),this['createRenderingPrimitives'](_0x3af7de,_0x27f6c6,_0x51efb9,_0x305c94);}return _0x2b415b()(_0x19d175,[{'key':_0xa3ba42(0x27f),'value':function(_0x1f9911,_0x1ee173,_0xdf488d){var _0x371e22=_0xa3ba42;for(var _0x238e77={'context':_0x1f9911,'width':_0x1f9911['drawingBufferWidth'],'height':_0x1f9911['drawingBufferHeight'],'pixelFormat':_0xcdac92['PixelFormat'][_0x371e22(0x2d3)],'pixelDatatype':_0xcdac92[_0x371e22(0x1d2)][_0x371e22(0x1e2)]},_0x30ed22={'context':_0x1f9911,'width':_0x1f9911[_0x371e22(0x23d)],'height':_0x1f9911[_0x371e22(0x282)],'pixelFormat':_0xcdac92[_0x371e22(0x2fd)][_0x371e22(0x2e4)],'pixelDatatype':_0xcdac92[_0x371e22(0x1d2)]['UNSIGNED_INT']},_0x23bfb1=_0xdf488d[_0x371e22(0x296)],_0x4f284f=new Float32Array(0x3*_0x23bfb1),_0x170010=0x0;_0x170010<_0x23bfb1;_0x170010++){var _0x36f9fc=_0xcdac92[_0x371e22(0x2f3)]['fromCssColorString'](_0xdf488d[_0x170010]);_0x4f284f[0x3*_0x170010]=_0x36f9fc['red'],_0x4f284f[0x3*_0x170010+0x1]=_0x36f9fc[_0x371e22(0x252)],_0x4f284f[0x3*_0x170010+0x2]=_0x36f9fc[_0x371e22(0x316)];}var _0x5bb8e0={'context':_0x1f9911,'width':_0x23bfb1,'height':0x1,'pixelFormat':_0xcdac92['PixelFormat'][_0x371e22(0x323)],'pixelDatatype':_0xcdac92['PixelDatatype'][_0x371e22(0x2a7)],'sampler':new _0xcdac92['Sampler']({'minificationFilter':_0xcdac92[_0x371e22(0x301)]['LINEAR'],'magnificationFilter':_0xcdac92[_0x371e22(0x30d)]['LINEAR']})};this[_0x371e22(0x333)]={'segmentsColor':_0x973f2d['createTexture'](_0x238e77),'segmentsDepth':_0x973f2d[_0x371e22(0x290)](_0x30ed22),'currentTrailsColor':_0x973f2d[_0x371e22(0x290)](_0x238e77),'currentTrailsDepth':_0x973f2d[_0x371e22(0x290)](_0x30ed22),'nextTrailsColor':_0x973f2d[_0x371e22(0x290)](_0x238e77),'nextTrailsDepth':_0x973f2d[_0x371e22(0x290)](_0x30ed22),'colorTable':_0x973f2d[_0x371e22(0x290)](_0x5bb8e0,_0x4f284f)};}},{'key':'createRenderingFramebuffers','value':function(_0xfb69fa){var _0x2dab58=_0xa3ba42;this[_0x2dab58(0x1cd)]={'segments':_0x973f2d['createFramebuffer'](_0xfb69fa,this[_0x2dab58(0x333)][_0x2dab58(0x1e1)],this[_0x2dab58(0x333)][_0x2dab58(0x2ee)]),'currentTrails':_0x973f2d[_0x2dab58(0x295)](_0xfb69fa,this['textures']['currentTrailsColor'],this[_0x2dab58(0x333)][_0x2dab58(0x2b1)]),'nextTrails':_0x973f2d[_0x2dab58(0x295)](_0xfb69fa,this['textures'][_0x2dab58(0x1d8)],this[_0x2dab58(0x333)][_0x2dab58(0x309)])};}},{'key':_0xa3ba42(0x1cc),'value':function(_0x566f6f){var _0x1b395f=_0xa3ba42;for(var _0x1f44a1=[],_0x1f2410=0x0;_0x1f2410<_0x566f6f['particlesTextureSize'];_0x1f2410++)for(var _0x1f8ac0=0x0;_0x1f8ac0<_0x566f6f[_0x1b395f(0x24a)];_0x1f8ac0++)for(var _0x482843=0x0;_0x482843<0x4;_0x482843++)_0x1f44a1[_0x1b395f(0x240)](_0x1f2410/_0x566f6f[_0x1b395f(0x24a)]),_0x1f44a1[_0x1b395f(0x240)](_0x1f8ac0/_0x566f6f['particlesTextureSize']);_0x1f44a1=new Float32Array(_0x1f44a1);for(var _0x1eea13=[],_0x6f8662=[-0x1,0x1],_0x2c3f91=[-0x1,0x1],_0x13e5d6=0x0;_0x13e5d6<_0x566f6f[_0x1b395f(0x1c4)];_0x13e5d6++)for(var _0x279304=0x0;_0x279304<0x2;_0x279304++)for(var _0x5b9422=0x0;_0x5b9422<0x2;_0x5b9422++)_0x1eea13[_0x1b395f(0x240)](_0x6f8662[_0x279304]),_0x1eea13[_0x1b395f(0x240)](_0x2c3f91[_0x5b9422]),_0x1eea13[_0x1b395f(0x240)](0x0);_0x1eea13=new Float32Array(_0x1eea13);for(var _0x3945a4=0x6*_0x566f6f[_0x1b395f(0x1c4)],_0x274730=new Uint32Array(_0x3945a4),_0x1302a5=0x0,_0x18266f=0x0,_0x356c0a=0x0;_0x1302a5<_0x566f6f[_0x1b395f(0x1c4)];_0x1302a5++)_0x274730[_0x18266f++]=_0x356c0a+0x0,_0x274730[_0x18266f++]=_0x356c0a+0x1,_0x274730[_0x18266f++]=_0x356c0a+0x2,_0x274730[_0x18266f++]=_0x356c0a+0x2,_0x274730[_0x18266f++]=_0x356c0a+0x1,_0x274730[_0x18266f++]=_0x356c0a+0x3,_0x356c0a+=0x4;return new _0xcdac92[(_0x1b395f(0x209))]({'attributes':new _0xcdac92[(_0x1b395f(0x1f3))]({'st':new _0xcdac92[(_0x1b395f(0x32c))]({'componentDatatype':_0xcdac92[_0x1b395f(0x322)][_0x1b395f(0x2a7)],'componentsPerAttribute':0x2,'values':_0x1f44a1}),'normal':new _0xcdac92[(_0x1b395f(0x32c))]({'componentDatatype':_0xcdac92[_0x1b395f(0x322)][_0x1b395f(0x2a7)],'componentsPerAttribute':0x3,'values':_0x1eea13})}),'indices':_0x274730});}},{'key':_0xa3ba42(0x21a),'value':function(_0xab7fb0,_0x3f60fa,_0x17dd4c,_0x4275d6){var _0x4548e2=_0xa3ba42,_0x15743d=this;this[_0x4548e2(0x305)]={'segments':new _0x46c13a({'commandType':_0x4548e2(0x319),'attributeLocations':{'st':0x0,'normal':0x1},'geometry':this[_0x4548e2(0x1cc)](_0x3f60fa),'primitiveType':_0xcdac92[_0x4548e2(0x1d1)]['TRIANGLES'],'uniformMap':{'currentParticlesPosition':function(){var _0xf9e472=_0x4548e2;return _0x4275d6[_0xf9e472(0x29d)][_0xf9e472(0x2af)];},'postProcessingPosition':function(){var _0x10a72e=_0x4548e2;return _0x4275d6[_0x10a72e(0x29d)][_0x10a72e(0x2e9)];},'postProcessingSpeed':function(){var _0x4310d3=_0x4548e2;return _0x4275d6[_0x4310d3(0x29d)][_0x4310d3(0x2ab)];},'colorTable':function(){var _0x4f0984=_0x4548e2;return _0x15743d[_0x4f0984(0x333)][_0x4f0984(0x214)];},'aspect':function(){var _0xb8c057=_0x4548e2;return _0xab7fb0[_0xb8c057(0x23d)]/_0xab7fb0['drawingBufferHeight'];},'pixelSize':function(){return _0x17dd4c['pixelSize'];},'lineWidth':function(){var _0x2691aa=_0x4548e2;return _0x3f60fa[_0x2691aa(0x2f8)];},'particleHeight':function(){return _0x3f60fa['particleHeight'];}},'vertexShaderSource':new _0xcdac92['ShaderSource']({'sources':[_0x2caa30['a']]}),'fragmentShaderSource':new _0xcdac92[(_0x4548e2(0x231))]({'sources':[_0x50c292['a']]}),'rawRenderState':_0x973f2d[_0x4548e2(0x1ee)]({'viewport':void 0x0,'depthTest':{'enabled':!0x0},'depthMask':!0x0}),'framebuffer':this['framebuffers']['segments'],'autoClear':!0x0}),'trails':new _0x46c13a({'commandType':_0x4548e2(0x319),'attributeLocations':{'position':0x0,'st':0x1},'geometry':_0x973f2d['getFullscreenQuad'](),'primitiveType':_0xcdac92[_0x4548e2(0x1d1)]['TRIANGLES'],'uniformMap':{'segmentsColorTexture':function(){var _0xb109da=_0x4548e2;return _0x15743d[_0xb109da(0x333)][_0xb109da(0x1e1)];},'segmentsDepthTexture':function(){var _0x46e516=_0x4548e2;return _0x15743d[_0x46e516(0x333)][_0x46e516(0x2ee)];},'currentTrailsColor':function(){var _0x54c59a=_0x4548e2;return _0x15743d[_0x54c59a(0x1cd)]['currentTrails']['getColorTexture'](0x0);},'trailsDepthTexture':function(){var _0x51a017=_0x4548e2;return _0x15743d[_0x51a017(0x1cd)][_0x51a017(0x201)]['depthTexture'];},'fadeOpacity':function(){return _0x3f60fa['fadeOpacity'];}},'vertexShaderSource':new _0xcdac92[(_0x4548e2(0x231))]({'defines':[_0x4548e2(0x31c)],'sources':[_0x40ae00['a']]}),'fragmentShaderSource':new _0xcdac92[(_0x4548e2(0x231))]({'defines':[_0x4548e2(0x313)],'sources':[_0x12c115['a']]}),'rawRenderState':_0x973f2d[_0x4548e2(0x1ee)]({'viewport':void 0x0,'depthTest':{'enabled':!0x0,'func':_0xcdac92[_0x4548e2(0x32d)]['ALWAYS']},'depthMask':!0x0}),'framebuffer':this[_0x4548e2(0x1cd)]['nextTrails'],'autoClear':!0x0,'preExecute':function(){var _0x5f4cf1=_0x4548e2,_0x53c3fc;_0x53c3fc=_0x15743d[_0x5f4cf1(0x1cd)][_0x5f4cf1(0x201)],_0x15743d[_0x5f4cf1(0x1cd)][_0x5f4cf1(0x201)]=_0x15743d[_0x5f4cf1(0x1cd)]['nextTrails'],_0x15743d[_0x5f4cf1(0x1cd)][_0x5f4cf1(0x1fe)]=_0x53c3fc,_0x15743d[_0x5f4cf1(0x305)][_0x5f4cf1(0x245)][_0x5f4cf1(0x2c6)][_0x5f4cf1(0x1e5)]=_0x15743d[_0x5f4cf1(0x1cd)]['nextTrails'],_0x15743d[_0x5f4cf1(0x305)][_0x5f4cf1(0x245)]['clearCommand'][_0x5f4cf1(0x1e5)]=_0x15743d[_0x5f4cf1(0x1cd)]['nextTrails'];}}),'screen':new _0x46c13a({'commandType':'Draw','attributeLocations':{'position':0x0,'st':0x1},'geometry':_0x973f2d['getFullscreenQuad'](),'primitiveType':_0xcdac92['PrimitiveType'][_0x4548e2(0x249)],'uniformMap':{'trailsColorTexture':function(){var _0x24795b=_0x4548e2;return _0x15743d[_0x24795b(0x1cd)]['nextTrails'][_0x24795b(0x1fc)](0x0);},'trailsDepthTexture':function(){var _0x2b61b7=_0x4548e2;return _0x15743d[_0x2b61b7(0x1cd)][_0x2b61b7(0x1fe)][_0x2b61b7(0x2a5)];}},'vertexShaderSource':new _0xcdac92[(_0x4548e2(0x231))]({'defines':[_0x4548e2(0x31c)],'sources':[_0x40ae00['a']]}),'fragmentShaderSource':new _0xcdac92[(_0x4548e2(0x231))]({'defines':[_0x4548e2(0x313)],'sources':[_0x3afc24['a']]}),'rawRenderState':_0x973f2d[_0x4548e2(0x1ee)]({'viewport':void 0x0,'depthTest':{'enabled':!0x1},'depthMask':!0x0,'blending':{'enabled':!0x0}}),'framebuffer':void 0x0})};}}]),_0x19d175;}()),_0xb86fa9=_0x5a49da(0xe),_0x589d95=_0x5a49da['n'](_0xb86fa9),_0x5cb297=_0x5a49da(0xf),_0x2f60af=_0x5a49da['n'](_0x5cb297),_0x4fa859=_0x5a49da(0x10),_0x2a31e0=_0x5a49da['n'](_0x4fa859),_0x2a8f2d=_0x5a49da(0x11),_0x8afe03=_0x5a49da['n'](_0x2a8f2d),_0x4b7474=_0x5a49da(0x12),_0x2882c2=_0x5a49da['n'](_0x4b7474),_0x1d13ef=_0x3a7368[_0x42ce2c(0x1db)],_0x3089cc=(function(){var _0x559f97=_0x42ce2c;function _0x3c73c2(_0x146214,_0x25e76a,_0x24f4d0,_0x244a57){var _0x5925ee=a0_0x489d;_0x27eb9()(this,_0x3c73c2),this[_0x5925ee(0x229)]=_0x25e76a,this[_0x5925ee(0x264)](_0x146214,_0x25e76a),this['createParticlesTextures'](_0x146214,_0x24f4d0,_0x244a57),this[_0x5925ee(0x2aa)](_0x25e76a,_0x24f4d0,_0x244a57);}return _0x2b415b()(_0x3c73c2,[{'key':_0x559f97(0x264),'value':function(_0x2ba87e,_0x400a07){var _0x17b9ba=_0x559f97,_0x413b1f={'context':_0x2ba87e,'width':_0x400a07['dimensions'][_0x17b9ba(0x1ea)],'height':_0x400a07['dimensions'][_0x17b9ba(0x1c8)]*(_0x400a07[_0x17b9ba(0x2fc)]['lev']||0x1),'pixelFormat':_0x1d13ef['PixelFormat'][_0x17b9ba(0x1bc)],'pixelDatatype':_0x1d13ef['PixelDatatype'][_0x17b9ba(0x2a7)],'flipY':!0x1,'sampler':new _0x1d13ef[(_0x17b9ba(0x22e))]({'minificationFilter':_0x1d13ef[_0x17b9ba(0x301)][_0x17b9ba(0x303)],'magnificationFilter':_0x1d13ef[_0x17b9ba(0x30d)][_0x17b9ba(0x303)]})};this[_0x17b9ba(0x2fa)]={'U':_0x973f2d[_0x17b9ba(0x290)](_0x413b1f,_0x400a07['U'][_0x17b9ba(0x208)]),'V':_0x973f2d[_0x17b9ba(0x290)](_0x413b1f,_0x400a07['V'][_0x17b9ba(0x208)])};}},{'key':_0x559f97(0x262),'value':function(_0x497331,_0x9c86e4,_0x1f92da){var _0x271748=_0x559f97,_0x7afef1={'context':_0x497331,'width':_0x9c86e4[_0x271748(0x24a)],'height':_0x9c86e4['particlesTextureSize'],'pixelFormat':_0x1d13ef['PixelFormat'][_0x271748(0x2d3)],'pixelDatatype':_0x1d13ef[_0x271748(0x1d2)][_0x271748(0x2a7)],'flipY':!0x1,'sampler':new _0x1d13ef['Sampler']({'minificationFilter':_0x1d13ef['TextureMinificationFilter'][_0x271748(0x303)],'magnificationFilter':_0x1d13ef['TextureMagnificationFilter'][_0x271748(0x303)]})},_0x488be6=this[_0x271748(0x20a)](_0x9c86e4[_0x271748(0x1c4)],_0x1f92da),_0x5daed2=new Float32Array(0x4*_0x9c86e4['maxParticles'])[_0x271748(0x330)](0x0);this[_0x271748(0x29d)]={'particlesWind':_0x973f2d[_0x271748(0x290)](_0x7afef1),'currentParticlesPosition':_0x973f2d[_0x271748(0x290)](_0x7afef1,_0x488be6),'nextParticlesPosition':_0x973f2d[_0x271748(0x290)](_0x7afef1,_0x488be6),'currentParticlesSpeed':_0x973f2d[_0x271748(0x290)](_0x7afef1,_0x5daed2),'nextParticlesSpeed':_0x973f2d[_0x271748(0x290)](_0x7afef1,_0x5daed2),'postProcessingPosition':_0x973f2d['createTexture'](_0x7afef1,_0x488be6),'postProcessingSpeed':_0x973f2d[_0x271748(0x290)](_0x7afef1,_0x5daed2)};}},{'key':_0x559f97(0x20a),'value':function(_0x398e4f,_0x1e44f6){var _0x21e40d=_0x559f97;for(var _0x51c9f3=new Float32Array(0x4*_0x398e4f),_0xeac6db=0x0;_0xeac6db<_0x398e4f;_0xeac6db++)_0x51c9f3[0x4*_0xeac6db]=_0x1d13ef[_0x21e40d(0x292)][_0x21e40d(0x2fe)](_0x1e44f6[_0x21e40d(0x2e7)]['x'],_0x1e44f6['lonRange']['y']),_0x51c9f3[0x4*_0xeac6db+0x1]=_0x1d13ef['Math']['randomBetween'](_0x1e44f6[_0x21e40d(0x2c2)]['x'],_0x1e44f6['latRange']['y']),_0x51c9f3[0x4*_0xeac6db+0x2]=_0x1d13ef[_0x21e40d(0x292)][_0x21e40d(0x2fe)](this[_0x21e40d(0x229)][_0x21e40d(0x1bb)][_0x21e40d(0x1ca)],this['data'][_0x21e40d(0x1bb)]['max']),_0x51c9f3[0x4*_0xeac6db+0x3]=0x0;return _0x51c9f3;}},{'key':'destroyParticlesTextures','value':function(){var _0x197c2a=_0x559f97,_0x54e9e1=this;Object[_0x197c2a(0x2df)](this[_0x197c2a(0x29d)])['forEach'](function(_0x3f2bf8){var _0x4b0612=_0x197c2a;_0x54e9e1[_0x4b0612(0x29d)][_0x3f2bf8]['destroy']();});}},{'key':_0x559f97(0x2aa),'value':function(_0x2b2235,_0x5bee72,_0x4cc619){var _0x2894b8=_0x559f97,_0x4d2311=new _0x1d13ef[(_0x2894b8(0x1f2))](_0x2b2235[_0x2894b8(0x2fc)][_0x2894b8(0x1ea)],_0x2b2235['dimensions']['lat'],_0x2b2235[_0x2894b8(0x2fc)][_0x2894b8(0x1bb)]),_0x77228a=new _0x1d13ef[(_0x2894b8(0x1f2))](_0x2b2235['lon'][_0x2894b8(0x1ca)],_0x2b2235[_0x2894b8(0x1c8)][_0x2894b8(0x1ca)],_0x2b2235[_0x2894b8(0x1bb)][_0x2894b8(0x1ca)]),_0x40717c=new _0x1d13ef[(_0x2894b8(0x1f2))](_0x2b2235[_0x2894b8(0x1ea)][_0x2894b8(0x2a2)],_0x2b2235[_0x2894b8(0x1c8)]['max'],_0x2b2235[_0x2894b8(0x1bb)][_0x2894b8(0x2a2)]),_0x539868=new _0x1d13ef['Cartesian3']((_0x40717c['x']-_0x77228a['x'])/(_0x4d2311['x']-0x1),(_0x40717c['y']-_0x77228a['y'])/(_0x4d2311['y']-0x1),_0x4d2311['z']>0x1?(_0x40717c['z']-_0x77228a['z'])/(_0x4d2311['z']-0x1):0x1),_0x2b0645=new _0x1d13ef[(_0x2894b8(0x26b))](_0x2b2235['U'][_0x2894b8(0x1ca)],_0x2b2235['U'][_0x2894b8(0x2a2)]),_0x39b612=new _0x1d13ef['Cartesian2'](_0x2b2235['V'][_0x2894b8(0x1ca)],_0x2b2235['V'][_0x2894b8(0x2a2)]),_0x3b7c5f=this;this[_0x2894b8(0x305)]={'getWind':new _0x46c13a({'commandType':'Compute','uniformMap':{'U':function(){return _0x3b7c5f['windTextures']['U'];},'V':function(){return _0x3b7c5f['windTextures']['V'];},'currentParticlesPosition':function(){var _0x419ecd=_0x2894b8;return _0x3b7c5f[_0x419ecd(0x29d)][_0x419ecd(0x2af)];},'dimension':function(){return _0x4d2311;},'minimum':function(){return _0x77228a;},'maximum':function(){return _0x40717c;},'interval':function(){return _0x539868;}},'fragmentShaderSource':new _0x1d13ef[(_0x2894b8(0x231))]({'sources':[_0x589d95['a']]}),'outputTexture':this['particlesTextures']['particlesWind'],'preExecute':function(){var _0x5b4659=_0x2894b8;_0x3b7c5f[_0x5b4659(0x305)]['getWind'][_0x5b4659(0x2c6)][_0x5b4659(0x251)]=_0x3b7c5f[_0x5b4659(0x29d)][_0x5b4659(0x315)];}}),'updateSpeed':new _0x46c13a({'commandType':_0x2894b8(0x298),'uniformMap':{'currentParticlesSpeed':function(){var _0x310538=_0x2894b8;return _0x3b7c5f[_0x310538(0x29d)][_0x310538(0x21e)];},'particlesWind':function(){var _0x104e27=_0x2894b8;return _0x3b7c5f[_0x104e27(0x29d)][_0x104e27(0x315)];},'uSpeedRange':function(){return _0x2b0645;},'vSpeedRange':function(){return _0x39b612;},'pixelSize':function(){return _0x4cc619['pixelSize'];},'speedFactor':function(){var _0xcfc7a4=_0x2894b8;return _0x5bee72[_0xcfc7a4(0x2d9)];}},'fragmentShaderSource':new _0x1d13ef[(_0x2894b8(0x231))]({'sources':[_0x2f60af['a']]}),'outputTexture':this[_0x2894b8(0x29d)][_0x2894b8(0x2f2)],'preExecute':function(){var _0x37b1bd=_0x2894b8,_0x204170;_0x204170=_0x3b7c5f[_0x37b1bd(0x29d)]['currentParticlesSpeed'],_0x3b7c5f['particlesTextures'][_0x37b1bd(0x21e)]=_0x3b7c5f[_0x37b1bd(0x29d)][_0x37b1bd(0x2ab)],_0x3b7c5f['particlesTextures'][_0x37b1bd(0x2ab)]=_0x204170,_0x3b7c5f['primitives'][_0x37b1bd(0x334)][_0x37b1bd(0x2c6)]['outputTexture']=_0x3b7c5f[_0x37b1bd(0x29d)][_0x37b1bd(0x2f2)];}}),'updatePosition':new _0x46c13a({'commandType':'Compute','uniformMap':{'currentParticlesPosition':function(){var _0x1dcc90=_0x2894b8;return _0x3b7c5f[_0x1dcc90(0x29d)][_0x1dcc90(0x2af)];},'currentParticlesSpeed':function(){var _0x4e9d4b=_0x2894b8;return _0x3b7c5f[_0x4e9d4b(0x29d)][_0x4e9d4b(0x21e)];}},'fragmentShaderSource':new _0x1d13ef[(_0x2894b8(0x231))]({'sources':[_0x2a31e0['a']]}),'outputTexture':this[_0x2894b8(0x29d)][_0x2894b8(0x2de)],'preExecute':function(){var _0x5ed59f=_0x2894b8,_0x5f3379;_0x5f3379=_0x3b7c5f['particlesTextures'][_0x5ed59f(0x2af)],_0x3b7c5f['particlesTextures'][_0x5ed59f(0x2af)]=_0x3b7c5f[_0x5ed59f(0x29d)][_0x5ed59f(0x2e9)],_0x3b7c5f[_0x5ed59f(0x29d)][_0x5ed59f(0x2e9)]=_0x5f3379,_0x3b7c5f['primitives']['updatePosition'][_0x5ed59f(0x2c6)][_0x5ed59f(0x251)]=_0x3b7c5f[_0x5ed59f(0x29d)][_0x5ed59f(0x2de)];}}),'postProcessingPosition':new _0x46c13a({'commandType':_0x2894b8(0x298),'uniformMap':{'nextParticlesPosition':function(){var _0x39d9d6=_0x2894b8;return _0x3b7c5f[_0x39d9d6(0x29d)][_0x39d9d6(0x2de)];},'nextParticlesSpeed':function(){return _0x3b7c5f['particlesTextures']['nextParticlesSpeed'];},'lonRange':function(){var _0x35f001=_0x2894b8;return _0x4cc619[_0x35f001(0x2e7)];},'latRange':function(){return _0x4cc619['latRange'];},'randomCoefficient':function(){var _0x19a0f0=_0x2894b8,_0x1e52b1=Math[_0x19a0f0(0x20d)]();return _0x1e52b1;},'dropRate':function(){var _0x5bdd60=_0x2894b8;return _0x5bee72[_0x5bdd60(0x302)];},'dropRateBump':function(){return _0x5bee72['dropRateBump'];}},'fragmentShaderSource':new _0x1d13ef['ShaderSource']({'sources':[_0x8afe03['a']]}),'outputTexture':this[_0x2894b8(0x29d)][_0x2894b8(0x2e9)],'preExecute':function(){var _0x207445=_0x2894b8;_0x3b7c5f[_0x207445(0x305)][_0x207445(0x2e9)]['commandToExecute'][_0x207445(0x251)]=_0x3b7c5f[_0x207445(0x29d)]['postProcessingPosition'];}}),'postProcessingSpeed':new _0x46c13a({'commandType':_0x2894b8(0x298),'uniformMap':{'postProcessingPosition':function(){var _0x45a58b=_0x2894b8;return _0x3b7c5f['particlesTextures'][_0x45a58b(0x2e9)];},'nextParticlesSpeed':function(){var _0x1f5117=_0x2894b8;return _0x3b7c5f[_0x1f5117(0x29d)]['nextParticlesSpeed'];}},'fragmentShaderSource':new _0x1d13ef[(_0x2894b8(0x231))]({'sources':[_0x2882c2['a']]}),'outputTexture':this[_0x2894b8(0x29d)]['postProcessingSpeed'],'preExecute':function(){var _0x3eaa70=_0x2894b8;_0x3b7c5f['primitives'][_0x3eaa70(0x2ab)][_0x3eaa70(0x2c6)][_0x3eaa70(0x251)]=_0x3b7c5f[_0x3eaa70(0x29d)][_0x3eaa70(0x2ab)];}})};}}]),_0x3c73c2;}());function _0x5ae65e(_0x324876,_0xba4d0d){var _0x21b9de=_0x42ce2c,_0x4ea620=Object['keys'](_0x324876);if(Object[_0x21b9de(0x24c)]){var _0x2691de=Object['getOwnPropertySymbols'](_0x324876);_0xba4d0d&&(_0x2691de=_0x2691de[_0x21b9de(0x211)](function(_0x561761){var _0x7395d7=_0x21b9de;return Object[_0x7395d7(0x30f)](_0x324876,_0x561761)[_0x7395d7(0x2ae)];})),_0x4ea620[_0x21b9de(0x240)][_0x21b9de(0x220)](_0x4ea620,_0x2691de);}return _0x4ea620;}var _0x1213f5=_0x3a7368[_0x42ce2c(0x1db)],_0x2628e4=(function(){var _0x38a561=_0x42ce2c;function _0x2d6b38(_0x11234f,_0x59df39,_0x5661da,_0x43701b){var _0x8a00c5=a0_0x489d,_0x259c40,_0x559ce0,_0xefacea,_0x3f0e84,_0x228e6a,_0x4700fa;(_0x27eb9()(this,_0x2d6b38),this[_0x8a00c5(0x1f8)]=_0x11234f,(_0x59df39=function(_0x25c36f){var _0x1e0b28=_0x8a00c5;for(var _0x139fdc=0x1;_0x139fdc<arguments[_0x1e0b28(0x296)];_0x139fdc++){var _0x142f80=null!=arguments[_0x139fdc]?arguments[_0x139fdc]:{};_0x139fdc%0x2?_0x5ae65e(Object(_0x142f80),!0x0)[_0x1e0b28(0x257)](function(_0x53dc50){_0x56f4e1()(_0x25c36f,_0x53dc50,_0x142f80[_0x53dc50]);}):Object[_0x1e0b28(0x294)]?Object['defineProperties'](_0x25c36f,Object['getOwnPropertyDescriptors'](_0x142f80)):_0x5ae65e(Object(_0x142f80))[_0x1e0b28(0x257)](function(_0x53ed5b){var _0x4bd84f=_0x1e0b28;Object[_0x4bd84f(0x2b5)](_0x25c36f,_0x53ed5b,Object[_0x4bd84f(0x30f)](_0x142f80,_0x53ed5b));});}return _0x25c36f;}({},_0x59df39))[_0x8a00c5(0x331)]&&_0x59df39['vdata'])&&(_0x59df39[_0x8a00c5(0x2fc)]={},_0x59df39[_0x8a00c5(0x2fc)]['lon']=_0x59df39[_0x8a00c5(0x1d9)],_0x59df39[_0x8a00c5(0x2fc)][_0x8a00c5(0x1c8)]=_0x59df39[_0x8a00c5(0x32e)],_0x59df39[_0x8a00c5(0x2fc)][_0x8a00c5(0x1bb)]=_0x59df39[_0x8a00c5(0x1bb)]||0x1,_0x59df39[_0x8a00c5(0x1ea)]={},_0x59df39['lon']['min']=_0x59df39['xmin'],_0x59df39['lon']['max']=_0x59df39[_0x8a00c5(0x1b8)],_0x59df39[_0x8a00c5(0x1c8)]={},_0x59df39[_0x8a00c5(0x1c8)]['min']=_0x59df39['ymin'],_0x59df39[_0x8a00c5(0x1c8)][_0x8a00c5(0x2a2)]=_0x59df39[_0x8a00c5(0x307)],_0x59df39['lev']={},_0x59df39[_0x8a00c5(0x1bb)]['min']=null!==(_0x259c40=_0x59df39[_0x8a00c5(0x2e8)])&&void 0x0!==_0x259c40?_0x259c40:0x1,_0x59df39[_0x8a00c5(0x1bb)][_0x8a00c5(0x2a2)]=null!==(_0x559ce0=_0x59df39[_0x8a00c5(0x2ca)])&&void 0x0!==_0x559ce0?_0x559ce0:0x1,_0x59df39['U']={},_0x59df39['U'][_0x8a00c5(0x208)]=new Float32Array(_0x59df39[_0x8a00c5(0x331)]),_0x59df39['U'][_0x8a00c5(0x1ca)]=null!==(_0xefacea=_0x59df39[_0x8a00c5(0x232)])&&void 0x0!==_0xefacea?_0xefacea:Math[_0x8a00c5(0x1ca)]['apply'](Math,_0x2a2be5()(_0x59df39[_0x8a00c5(0x331)])),_0x59df39['U']['max']=null!==(_0x3f0e84=_0x59df39[_0x8a00c5(0x1b1)])&&void 0x0!==_0x3f0e84?_0x3f0e84:Math[_0x8a00c5(0x2a2)][_0x8a00c5(0x220)](Math,_0x2a2be5()(_0x59df39[_0x8a00c5(0x331)])),_0x59df39['V']={},_0x59df39['V']['array']=new Float32Array(_0x59df39['vdata']),_0x59df39['V']['min']=null!==(_0x228e6a=_0x59df39['vmin'])&&void 0x0!==_0x228e6a?_0x228e6a:Math[_0x8a00c5(0x1ca)]['apply'](Math,_0x2a2be5()(_0x59df39[_0x8a00c5(0x29b)])),_0x59df39['V'][_0x8a00c5(0x2a2)]=null!==(_0x4700fa=_0x59df39[_0x8a00c5(0x248)])&&void 0x0!==_0x4700fa?_0x4700fa:Math[_0x8a00c5(0x2a2)][_0x8a00c5(0x220)](Math,_0x2a2be5()(_0x59df39[_0x8a00c5(0x29b)]))),(this[_0x8a00c5(0x229)]=_0x59df39,this['options']=_0x5661da,this[_0x8a00c5(0x1c5)]=_0x43701b,this[_0x8a00c5(0x2c4)]=new _0x3089cc(this[_0x8a00c5(0x1f8)],this['data'],this[_0x8a00c5(0x1e8)],this['viewerParameters']),this[_0x8a00c5(0x25e)]=new _0x34dd3c(this['context'],this[_0x8a00c5(0x229)],this[_0x8a00c5(0x1e8)],this['viewerParameters'],this['particlesComputing']));}return _0x2b415b()(_0x2d6b38,[{'key':_0x38a561(0x239),'value':function(_0x19aaf0){var _0x45d9d5=_0x38a561,_0x5b1afc=this;this[_0x45d9d5(0x2c4)][_0x45d9d5(0x234)](),Object[_0x45d9d5(0x2df)](this[_0x45d9d5(0x2c4)][_0x45d9d5(0x2fa)])['forEach'](function(_0x2e1ec2){var _0x1c13a4=_0x45d9d5;_0x5b1afc[_0x1c13a4(0x2c4)][_0x1c13a4(0x2fa)][_0x2e1ec2][_0x1c13a4(0x297)]();}),this[_0x45d9d5(0x25e)][_0x45d9d5(0x333)][_0x45d9d5(0x214)]['destroy'](),Object['keys'](this[_0x45d9d5(0x25e)][_0x45d9d5(0x1cd)])[_0x45d9d5(0x257)](function(_0x595d1d){var _0x529a54=_0x45d9d5;_0x5b1afc[_0x529a54(0x25e)][_0x529a54(0x1cd)][_0x595d1d][_0x529a54(0x297)]();}),this['context']=_0x19aaf0,this[_0x45d9d5(0x2c4)]=new _0x3089cc(this[_0x45d9d5(0x1f8)],this['data'],this[_0x45d9d5(0x1e8)],this['viewerParameters']),this[_0x45d9d5(0x25e)]=new _0x34dd3c(this[_0x45d9d5(0x1f8)],this[_0x45d9d5(0x229)],this[_0x45d9d5(0x1e8)],this[_0x45d9d5(0x1c5)],this[_0x45d9d5(0x2c4)]);}},{'key':_0x38a561(0x22b),'value':function(){var _0x34adcf=_0x38a561,_0x48ffb3=this,_0x30ac1b=new _0x1213f5[(_0x34adcf(0x306))]({'color':new _0x1213f5[(_0x34adcf(0x2f3))](0x0,0x0,0x0,0x0),'depth':0x1,'framebuffer':void 0x0,'pass':_0x1213f5[_0x34adcf(0x27c)][_0x34adcf(0x1dd)]});Object[_0x34adcf(0x2df)](this['particlesRendering'][_0x34adcf(0x1cd)])['forEach'](function(_0x1a8799){var _0x207f04=_0x34adcf;_0x30ac1b[_0x207f04(0x1e5)]=_0x48ffb3[_0x207f04(0x25e)][_0x207f04(0x1cd)][_0x1a8799],_0x30ac1b[_0x207f04(0x22d)](_0x48ffb3[_0x207f04(0x1f8)]);});}},{'key':_0x38a561(0x31a),'value':function(_0x546eb2){var _0x7fbcb6=_0x38a561;if(this['clearFramebuffers'](),this[_0x7fbcb6(0x2c4)][_0x7fbcb6(0x234)](),this[_0x7fbcb6(0x2c4)][_0x7fbcb6(0x262)](this[_0x7fbcb6(0x1f8)],this['options'],this[_0x7fbcb6(0x1c5)]),_0x546eb2){var _0x34f0d5=this['particlesRendering'][_0x7fbcb6(0x1cc)](this[_0x7fbcb6(0x1e8)]);this['particlesRendering']['primitives']['segments']['geometry']=_0x34f0d5;var _0x243ec8=_0x1213f5[_0x7fbcb6(0x1eb)][_0x7fbcb6(0x200)]({'context':this['context'],'geometry':_0x34f0d5,'attributeLocations':this[_0x7fbcb6(0x25e)][_0x7fbcb6(0x305)][_0x7fbcb6(0x27a)][_0x7fbcb6(0x1f9)],'bufferUsage':_0x1213f5[_0x7fbcb6(0x283)]['STATIC_DRAW']});this[_0x7fbcb6(0x25e)][_0x7fbcb6(0x305)][_0x7fbcb6(0x27a)][_0x7fbcb6(0x2c6)][_0x7fbcb6(0x284)]=_0x243ec8;}}},{'key':'setOptions','value':function(_0x59ed1d){var _0x3f2675=_0x38a561,_0x32c550=this,_0x5ba72d=!0x1;this[_0x3f2675(0x1e8)][_0x3f2675(0x1c4)]!=_0x59ed1d[_0x3f2675(0x1c4)]&&(_0x5ba72d=!0x0),Object['keys'](_0x59ed1d)[_0x3f2675(0x257)](function(_0x4259cc){var _0x40bf5a=_0x3f2675;_0x32c550[_0x40bf5a(0x1e8)][_0x4259cc]=_0x59ed1d[_0x4259cc];}),this[_0x3f2675(0x31a)](_0x5ba72d);}},{'key':_0x38a561(0x2f1),'value':function(_0x51ed2e){var _0x231be0=_0x38a561,_0x3209eb=this;Object[_0x231be0(0x2df)](_0x51ed2e)[_0x231be0(0x257)](function(_0x1d20e7){_0x3209eb['viewerParameters'][_0x1d20e7]=_0x51ed2e[_0x1d20e7];}),this[_0x231be0(0x31a)](!0x1);}},{'key':'destroy','value':function(){var _0x49b604=_0x38a561,_0x17ebaf=this;for(var _0xa7538c in(clearTimeout(this[_0x49b604(0x1d6)]),this['particlesComputing']['destroyParticlesTextures'](),Object[_0x49b604(0x2df)](this[_0x49b604(0x2c4)][_0x49b604(0x2fa)])['forEach'](function(_0x936a17){var _0x1c95c4=_0x49b604;_0x17ebaf[_0x1c95c4(0x2c4)][_0x1c95c4(0x2fa)][_0x936a17][_0x1c95c4(0x297)]();}),this[_0x49b604(0x25e)][_0x49b604(0x333)]['colorTable'][_0x49b604(0x297)](),Object[_0x49b604(0x2df)](this[_0x49b604(0x25e)]['framebuffers'])[_0x49b604(0x257)](function(_0x1054e0){var _0x22fd8a=_0x49b604;_0x17ebaf[_0x22fd8a(0x25e)][_0x22fd8a(0x1cd)][_0x1054e0][_0x22fd8a(0x297)]();}),this))delete this[_0xa7538c];}}]),_0x2d6b38;}());function _0x1d77a4(_0x381d93,_0x50879c){var _0x262724=_0x42ce2c,_0x5e7a94=Object[_0x262724(0x2df)](_0x381d93);if(Object[_0x262724(0x24c)]){var _0x3b4a9d=Object[_0x262724(0x24c)](_0x381d93);_0x50879c&&(_0x3b4a9d=_0x3b4a9d[_0x262724(0x211)](function(_0x15883e){var _0x2cc76b=_0x262724;return Object[_0x2cc76b(0x30f)](_0x381d93,_0x15883e)[_0x2cc76b(0x2ae)];})),_0x5e7a94[_0x262724(0x240)][_0x262724(0x220)](_0x5e7a94,_0x3b4a9d);}return _0x5e7a94;}function _0x572663(_0x4729d3){var _0x1c2b3f=_0x42ce2c;for(var _0xfb1b1b=0x1;_0xfb1b1b<arguments[_0x1c2b3f(0x296)];_0xfb1b1b++){var _0x44feec=null!=arguments[_0xfb1b1b]?arguments[_0xfb1b1b]:{};_0xfb1b1b%0x2?_0x1d77a4(Object(_0x44feec),!0x0)[_0x1c2b3f(0x257)](function(_0x166726){_0x56f4e1()(_0x4729d3,_0x166726,_0x44feec[_0x166726]);}):Object[_0x1c2b3f(0x294)]?Object[_0x1c2b3f(0x2d2)](_0x4729d3,Object['getOwnPropertyDescriptors'](_0x44feec)):_0x1d77a4(Object(_0x44feec))['forEach'](function(_0x597cdb){var _0x360854=_0x1c2b3f;Object['defineProperty'](_0x4729d3,_0x597cdb,Object[_0x360854(0x30f)](_0x44feec,_0x597cdb));});}return _0x4729d3;}function _0x3cf47a(_0x15cc72){var _0x326ae3=(function(){var _0x5150ec=a0_0x489d;if(_0x5150ec(0x1ce)==typeof Reflect||!Reflect[_0x5150ec(0x304)])return!0x1;if(Reflect[_0x5150ec(0x304)][_0x5150ec(0x1b3)])return!0x1;if('function'==typeof Proxy)return!0x0;try{return Boolean[_0x5150ec(0x2e0)]['valueOf'][_0x5150ec(0x2e3)](Reflect[_0x5150ec(0x304)](Boolean,[],function(){})),!0x0;}catch(_0x3ae5a4){return!0x1;}}());return function(){var _0x7b2a9b=a0_0x489d,_0x2a70e9,_0x4bbcb6=_0x3499a8()(_0x15cc72);if(_0x326ae3){var _0x4f5184=_0x3499a8()(this)['constructor'];_0x2a70e9=Reflect[_0x7b2a9b(0x304)](_0x4bbcb6,arguments,_0x4f5184);}else _0x2a70e9=_0x4bbcb6[_0x7b2a9b(0x220)](this,arguments);return _0x26b7a2()(this,_0x2a70e9);};}var _0x1050cf=_0x3a7368['Cesium'],_0x3edcec=_0x3a7368[_0x42ce2c(0x2d6)][_0x42ce2c(0x216)],_0x3f1971={'particlesNumber':0x1000,'fixedHeight':0x0,'fadeOpacity':0.996,'dropRate':0.003,'dropRateBump':0.01,'speedFactor':0.5,'lineWidth':0x2,'colors':[_0x42ce2c(0x2d5)]},_0x1cb742=function(_0x48e71e){var _0x24ba1d=_0x42ce2c;_0x54bae6()(_0xe6da79,_0x48e71e);var _0x49ea4e=_0x3cf47a(_0xe6da79);function _0xe6da79(){var _0x4eb9f5=a0_0x489d,_0xeff50f,_0x5558bd=arguments[_0x4eb9f5(0x296)]>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{};return _0x27eb9()(this,_0xe6da79),_0x5558bd=_0x572663(_0x572663({},_0x3f1971),_0x5558bd),(_0xeff50f=_0x49ea4e[_0x4eb9f5(0x2e3)](this,_0x5558bd))[_0x4eb9f5(0x21c)](_0x5558bd),_0xeff50f;}return _0x2b415b()(_0xe6da79,[{'key':_0x24ba1d(0x2d6),'get':function(){return this['primitives'];}},{'key':'data','get':function(){var _0x300362=_0x24ba1d;return this[_0x300362(0x26e)];},'set':function(_0x14388c){var _0x527730=_0x24ba1d;this[_0x527730(0x2c0)](_0x14388c);}},{'key':_0x24ba1d(0x2bd),'get':function(){var _0x4f04e8=_0x24ba1d;return this[_0x4f04e8(0x1e8)][_0x4f04e8(0x2bd)];},'set':function(_0x42424a){var _0x42e693=_0x24ba1d;this[_0x42e693(0x1e8)]['colors']=_0x42424a,this[_0x42e693(0x26d)]&&this[_0x42e693(0x26d)][_0x42e693(0x224)]({'colors':_0x42424a}),this[_0x42e693(0x32a)]();}},{'key':_0x24ba1d(0x2a3),'value':function(){}},{'key':_0x24ba1d(0x1c1),'value':function(){var _0x1bd9cb=_0x24ba1d;this['scene']=this[_0x1bd9cb(0x2b2)][_0x1bd9cb(0x2ad)],this[_0x1bd9cb(0x23b)]=this[_0x1bd9cb(0x2b2)][_0x1bd9cb(0x23b)],this[_0x1bd9cb(0x305)]=new _0x1050cf[(_0x1bd9cb(0x28e))](),this['_map'][_0x1bd9cb(0x2ad)][_0x1bd9cb(0x305)][_0x1bd9cb(0x213)](this[_0x1bd9cb(0x305)]),this['viewerParameters']={'lonRange':new _0x1050cf[(_0x1bd9cb(0x26b))](),'latRange':new _0x1050cf[(_0x1bd9cb(0x26b))](),'pixelSize':0x0},this['globeBoundingSphere']=new _0x1050cf['BoundingSphere'](_0x1050cf['Cartesian3'][_0x1bd9cb(0x277)],6314355.63),this[_0x1bd9cb(0x2ba)](),window[_0x1bd9cb(0x206)](_0x1bd9cb(0x32a),this['resize'][_0x1bd9cb(0x27d)](this),!0x1),this[_0x1bd9cb(0x2a9)]=!0x1,this[_0x1bd9cb(0x314)]=!0x1,this[_0x1bd9cb(0x2b2)]['on'](_0x3a7368[_0x1bd9cb(0x1e6)][_0x1bd9cb(0x2b4)],this[_0x1bd9cb(0x300)],this),this[_0x1bd9cb(0x2b2)]['on'](_0x3a7368['EventType'][_0x1bd9cb(0x24e)],this[_0x1bd9cb(0x312)],this),this['_map']['on'](_0x3a7368[_0x1bd9cb(0x1e6)][_0x1bd9cb(0x2e6)],this[_0x1bd9cb(0x2ce)],this),this['_map']['on'](_0x3a7368[_0x1bd9cb(0x1e6)][_0x1bd9cb(0x22c)],this[_0x1bd9cb(0x2cd)],this),this[_0x1bd9cb(0x26e)]&&this[_0x1bd9cb(0x2c0)](this[_0x1bd9cb(0x26e)]);}},{'key':_0x24ba1d(0x254),'value':function(){var _0x3c5b3a=_0x24ba1d;window[_0x3c5b3a(0x23a)](_0x3c5b3a(0x32a),this[_0x3c5b3a(0x32a)]),this[_0x3c5b3a(0x2b2)][_0x3c5b3a(0x2ea)](_0x3a7368[_0x3c5b3a(0x1e6)][_0x3c5b3a(0x2dd)],this[_0x3c5b3a(0x226)],this),this[_0x3c5b3a(0x2b2)][_0x3c5b3a(0x2ea)](_0x3a7368[_0x3c5b3a(0x1e6)][_0x3c5b3a(0x2b4)],this[_0x3c5b3a(0x300)],this),this[_0x3c5b3a(0x2b2)][_0x3c5b3a(0x2ea)](_0x3a7368[_0x3c5b3a(0x1e6)][_0x3c5b3a(0x24e)],this['_onMouseDownEvent'],this),this[_0x3c5b3a(0x2b2)][_0x3c5b3a(0x2ea)](_0x3a7368['EventType']['mouseUp'],this[_0x3c5b3a(0x2ce)],this),this['_map'][_0x3c5b3a(0x2ea)](_0x3a7368[_0x3c5b3a(0x1e6)]['mouseMove'],this['_onMouseMoveEvent'],this),this[_0x3c5b3a(0x305)][_0x3c5b3a(0x21b)](),this[_0x3c5b3a(0x2b2)]['scene'][_0x3c5b3a(0x305)][_0x3c5b3a(0x2be)](this[_0x3c5b3a(0x305)]);}},{'key':_0x24ba1d(0x32a),'value':function(){var _0x14f7da=_0x24ba1d;this[_0x14f7da(0x23f)]&&this[_0x14f7da(0x26d)]&&(this[_0x14f7da(0x305)][_0x14f7da(0x23f)]=!0x1,this[_0x14f7da(0x305)]['removeAll'](),this[_0x14f7da(0x2b2)][_0x14f7da(0x2e1)](_0x3a7368[_0x14f7da(0x1e6)][_0x14f7da(0x2dd)],this['_onMap_preRenderEvent'],this));}},{'key':_0x24ba1d(0x226),'value':function(_0x20ecc0){var _0x3ac278=_0x24ba1d;this[_0x3ac278(0x26d)][_0x3ac278(0x239)](this[_0x3ac278(0x2ad)][_0x3ac278(0x1f8)]),this['addPrimitives'](),this['primitives'][_0x3ac278(0x23f)]=!0x0;}},{'key':_0x24ba1d(0x300),'value':function(_0xaba204){var _0x1a02aa=_0x24ba1d,_0x520f71=this;clearTimeout(this[_0x1a02aa(0x267)]),this[_0x1a02aa(0x23f)]&&this[_0x1a02aa(0x26d)]&&(this['primitives'][_0x1a02aa(0x23f)]=!0x1,this[_0x1a02aa(0x267)]=setTimeout(function(){var _0x20f8f6=_0x1a02aa;_0x520f71[_0x20f8f6(0x23f)]&&_0x520f71[_0x20f8f6(0x203)]();},0xc8));}},{'key':_0x24ba1d(0x312),'value':function(_0x5c83df){this['mouse_down']=!0x0;}},{'key':_0x24ba1d(0x2cd),'value':function(_0x44a140){var _0x2d1c6a=_0x24ba1d;this['show']&&this['particleSystem']&&this[_0x2d1c6a(0x2a9)]&&(this['primitives'][_0x2d1c6a(0x23f)]=!0x1,this[_0x2d1c6a(0x314)]=!0x0);}},{'key':_0x24ba1d(0x2ce),'value':function(_0x5b1213){var _0x1873e1=_0x24ba1d;this[_0x1873e1(0x23f)]&&this['particleSystem']&&(this[_0x1873e1(0x2a9)]&&this['mouse_move']&&this[_0x1873e1(0x203)](),this[_0x1873e1(0x305)][_0x1873e1(0x23f)]=!0x0,this[_0x1873e1(0x2a9)]=!0x1,this[_0x1873e1(0x314)]=!0x1);}},{'key':'redraw','value':function(){var _0x167847=_0x24ba1d;this[_0x167847(0x2b2)]&&this[_0x167847(0x23f)]&&(this[_0x167847(0x2ba)](),this[_0x167847(0x26d)][_0x167847(0x2f1)](this[_0x167847(0x1c5)]),this[_0x167847(0x305)]['show']=!0x0);}},{'key':_0x24ba1d(0x2c0),'value':function(_0xb4a5d6){var _0x45a432=_0x24ba1d;this[_0x45a432(0x26e)]=_0xb4a5d6,this['particleSystem']&&this[_0x45a432(0x26d)]['destroy'](),this[_0x45a432(0x26d)]=new _0x2628e4(this[_0x45a432(0x2ad)][_0x45a432(0x1f8)],_0xb4a5d6,this[_0x45a432(0x259)](),this[_0x45a432(0x1c5)]),this[_0x45a432(0x2d4)]();}},{'key':_0x24ba1d(0x21c),'value':function(_0x109eb0){var _0x285bc2=_0x24ba1d;if(_0x109eb0){for(var _0x1a7d97 in _0x109eb0)this[_0x1a7d97]=_0x109eb0[_0x1a7d97];}this['particleSystem']&&this[_0x285bc2(0x26d)]['setOptions'](this[_0x285bc2(0x259)]());}},{'key':_0x24ba1d(0x259),'value':function(){var _0x6d2676=_0x24ba1d,_0x59f2e5=Math[_0x6d2676(0x20c)](Math[_0x6d2676(0x22a)](this[_0x6d2676(0x271)]));return this[_0x6d2676(0x271)]=_0x59f2e5*_0x59f2e5,{'particlesTextureSize':_0x59f2e5,'maxParticles':this['particlesNumber'],'particleHeight':this[_0x6d2676(0x25a)],'fadeOpacity':this[_0x6d2676(0x1ba)],'dropRate':this[_0x6d2676(0x302)],'dropRateBump':this[_0x6d2676(0x2c9)],'speedFactor':this['speedFactor'],'lineWidth':this[_0x6d2676(0x2f8)],'globeLayer':this[_0x6d2676(0x2c3)],'WMS_URL':this[_0x6d2676(0x205)],'colors':this[_0x6d2676(0x2bd)]};}},{'key':'addPrimitives','value':function(){var _0x121ff2=_0x24ba1d;this[_0x121ff2(0x305)][_0x121ff2(0x213)](this[_0x121ff2(0x26d)][_0x121ff2(0x2c4)][_0x121ff2(0x305)][_0x121ff2(0x1ff)]),this['primitives'][_0x121ff2(0x213)](this['particleSystem'][_0x121ff2(0x2c4)]['primitives'][_0x121ff2(0x334)]),this['primitives'][_0x121ff2(0x213)](this['particleSystem'][_0x121ff2(0x2c4)][_0x121ff2(0x305)]['updatePosition']),this[_0x121ff2(0x305)][_0x121ff2(0x213)](this[_0x121ff2(0x26d)][_0x121ff2(0x2c4)][_0x121ff2(0x305)][_0x121ff2(0x2e9)]),this[_0x121ff2(0x305)][_0x121ff2(0x213)](this[_0x121ff2(0x26d)][_0x121ff2(0x2c4)][_0x121ff2(0x305)][_0x121ff2(0x2ab)]),this[_0x121ff2(0x305)][_0x121ff2(0x213)](this[_0x121ff2(0x26d)][_0x121ff2(0x25e)][_0x121ff2(0x305)][_0x121ff2(0x27a)]),this[_0x121ff2(0x305)][_0x121ff2(0x213)](this['particleSystem'][_0x121ff2(0x25e)]['primitives'][_0x121ff2(0x245)]),this[_0x121ff2(0x305)]['add'](this['particleSystem'][_0x121ff2(0x25e)][_0x121ff2(0x305)][_0x121ff2(0x2f6)]);}},{'key':_0x24ba1d(0x2ba),'value':function(){var _0x1d4201=_0x24ba1d,_0x59183b=this[_0x1d4201(0x23b)][_0x1d4201(0x219)](this['scene'][_0x1d4201(0x204)][_0x1d4201(0x1f6)]);if(!_0x59183b){var _0x1426dc=this['_map'][_0x1d4201(0x324)]();_0x59183b=_0x1050cf[_0x1d4201(0x2c5)]['fromDegrees'](_0x1426dc[_0x1d4201(0x218)],_0x1426dc[_0x1d4201(0x217)],_0x1426dc[_0x1d4201(0x1b8)],_0x1426dc['ymax']);}var _0xf96c39=_0x973f2d[_0x1d4201(0x1b5)](_0x59183b);this[_0x1d4201(0x1c5)][_0x1d4201(0x2e7)]['x']=_0xf96c39[_0x1d4201(0x1ea)][_0x1d4201(0x1ca)],this[_0x1d4201(0x1c5)]['lonRange']['y']=_0xf96c39[_0x1d4201(0x1ea)][_0x1d4201(0x2a2)],this[_0x1d4201(0x1c5)][_0x1d4201(0x2c2)]['x']=_0xf96c39['lat']['min'],this[_0x1d4201(0x1c5)]['latRange']['y']=_0xf96c39[_0x1d4201(0x1c8)][_0x1d4201(0x2a2)];var _0x4c5d43=this[_0x1d4201(0x23b)]['getPixelSize'](this[_0x1d4201(0x2f5)],this['scene'][_0x1d4201(0x23d)],this[_0x1d4201(0x2ad)][_0x1d4201(0x282)]);_0x4c5d43>0x0&&(this['viewerParameters'][_0x1d4201(0x2a8)]=_0x4c5d43);}}]),_0xe6da79;}(_0x3edcec);_0x3a7368[_0x42ce2c(0x2b9)][_0x42ce2c(0x32b)](_0x42ce2c(0x272),_0x1cb742),_0x3a7368[_0x42ce2c(0x2d6)]['WindLayer']=_0x1cb742;var _0x3ee683=_0x2b415b()(function _0x5e5ae6(){var _0x5ed239=_0x42ce2c;_0x27eb9()(this,_0x5e5ae6),this[_0x5ed239(0x1f7)]=null,this[_0x5ed239(0x1c8)]=null,this[_0x5ed239(0x1ef)]=null,this[_0x5ed239(0x23e)]=null,this[_0x5ed239(0x222)]=null;}),_0x276707=(function(){var _0x55a2fe=_0x42ce2c;function _0x5d68a9(_0x2c7439,_0xc2d76b){var _0x30924b=a0_0x489d;_0x27eb9()(this,_0x5d68a9),this[_0x30924b(0x32e)]=_0x2c7439[_0x30924b(0x32e)],this[_0x30924b(0x1d9)]=_0x2c7439[_0x30924b(0x1d9)],this[_0x30924b(0x218)]=_0x2c7439[_0x30924b(0x218)],this[_0x30924b(0x1b8)]=_0x2c7439[_0x30924b(0x1b8)],this['ymin']=_0x2c7439[_0x30924b(0x217)],this[_0x30924b(0x307)]=_0x2c7439['ymax'],this['grid']=[];var _0x5d1f21=_0x2c7439[_0x30924b(0x331)],_0x47e8e3=_0x2c7439[_0x30924b(0x29b)],_0x5655df=!0x1;_0x5d1f21[_0x30924b(0x296)]===this[_0x30924b(0x32e)]&&_0x5d1f21[0x0][_0x30924b(0x296)]===this[_0x30924b(0x1d9)]&&(_0x5655df=!0x0);for(var _0x104447=0x0,_0xaaebee=null,_0x46756e=null,_0x45ef0f=0x0;_0x45ef0f<this[_0x30924b(0x32e)];_0x45ef0f++){_0xaaebee=[];for(var _0xc9d5c6=0x0;_0xc9d5c6<this[_0x30924b(0x1d9)];_0xc9d5c6++,_0x104447++)_0x46756e=_0x5655df?this['_calcUV'](_0x5d1f21[_0x45ef0f][_0xc9d5c6],_0x47e8e3[_0x45ef0f][_0xc9d5c6]):this[_0x30924b(0x2ec)](_0x5d1f21[_0x104447],_0x47e8e3[_0x104447]),_0xaaebee[_0x30924b(0x240)](_0x46756e);this['grid'][_0x30924b(0x240)](_0xaaebee);}_0xc2d76b&&this[_0x30924b(0x212)][_0x30924b(0x1dc)]();}return _0x2b415b()(_0x5d68a9,[{'key':_0x55a2fe(0x30e),'value':function(_0x1a3e15,_0x2d33c4){var _0x48e6fd=_0x55a2fe;return{'x':(_0x1a3e15-this[_0x48e6fd(0x218)])/(this[_0x48e6fd(0x1b8)]-this[_0x48e6fd(0x218)])*(this[_0x48e6fd(0x1d9)]-0x1),'y':(this[_0x48e6fd(0x307)]-_0x2d33c4)/(this['ymax']-this[_0x48e6fd(0x217)])*(this[_0x48e6fd(0x32e)]-0x1)};}},{'key':_0x55a2fe(0x265),'value':function(_0xf75931,_0x316116){var _0x46a2de=_0x55a2fe;if(_0xf75931<0x0||_0xf75931>=this[_0x46a2de(0x1d9)]||_0x316116>=this[_0x46a2de(0x32e)])return[0x0,0x0,0x0];var _0x1f42cf,_0x8e7c73,_0x57e956=Math[_0x46a2de(0x253)](_0xf75931),_0xb8a568=Math[_0x46a2de(0x253)](_0x316116);if(_0x57e956===_0xf75931&&_0xb8a568===_0x316116)return this[_0x46a2de(0x212)][_0x316116][_0xf75931];_0x1f42cf=_0x57e956+0x1,_0x8e7c73=_0xb8a568+0x1;var _0x3c06ab=this['getUVByXY'](_0x57e956,_0xb8a568),_0x1739c5=this[_0x46a2de(0x265)](_0x1f42cf,_0xb8a568),_0x1804a8=this[_0x46a2de(0x265)](_0x57e956,_0x8e7c73),_0x3e6d11=this[_0x46a2de(0x265)](_0x1f42cf,_0x8e7c73),_0x42e781=null;try{_0x42e781=this[_0x46a2de(0x1c3)](_0xf75931-_0x57e956,_0x316116-_0xb8a568,_0x3c06ab,_0x1739c5,_0x1804a8,_0x3e6d11);}catch(_0x3300bc){console[_0x46a2de(0x2fb)](_0xf75931,_0x316116);}return _0x42e781;}},{'key':_0x55a2fe(0x1c3),'value':function(_0x312c31,_0x7db05b,_0x8cb07,_0x593dfc,_0x58cf60,_0x1281fe){var _0x546a76=0x1-_0x312c31,_0x95f511=0x1-_0x7db05b,_0x493fca=_0x546a76*_0x95f511,_0x647772=_0x312c31*_0x95f511,_0x123b2a=_0x546a76*_0x7db05b,_0x1416c1=_0x312c31*_0x7db05b,_0x8c6201=_0x8cb07[0x0]*_0x493fca+_0x593dfc[0x0]*_0x647772+_0x58cf60[0x0]*_0x123b2a+_0x1281fe[0x0]*_0x1416c1,_0x1f0b07=_0x8cb07[0x1]*_0x493fca+_0x593dfc[0x1]*_0x647772+_0x58cf60[0x1]*_0x123b2a+_0x1281fe[0x1]*_0x1416c1;return this['_calcUV'](_0x8c6201,_0x1f0b07);}},{'key':_0x55a2fe(0x2ec),'value':function(_0x254a6e,_0x309344){var _0x1b4e96=_0x55a2fe;return[+_0x254a6e,+_0x309344,Math[_0x1b4e96(0x22a)](_0x254a6e*_0x254a6e+_0x309344*_0x309344)];}},{'key':_0x55a2fe(0x250),'value':function(_0x100db3,_0x34050e){var _0x44b741=_0x55a2fe;if(!this[_0x44b741(0x326)](_0x100db3,_0x34050e))return null;var _0x5d9f04=this[_0x44b741(0x30e)](_0x100db3,_0x34050e);return this[_0x44b741(0x265)](_0x5d9f04['x'],_0x5d9f04['y']);}},{'key':'isInExtent','value':function(_0x370da7,_0x53f91a){var _0x22e924=_0x55a2fe;return _0x370da7>=this[_0x22e924(0x218)]&&_0x370da7<=this[_0x22e924(0x1b8)]&&_0x53f91a>=this[_0x22e924(0x217)]&&_0x53f91a<=this['ymax'];}},{'key':'getRandomLatLng','value':function(){var _0x418d89=_0x55a2fe,_0x4df3c3=_0x1e148f(this['xmin'],this[_0x418d89(0x1b8)]);return{'lat':_0x1e148f(this[_0x418d89(0x217)],this[_0x418d89(0x307)]),'lng':_0x4df3c3};}}]),_0x5d68a9;}());function _0x1e148f(_0x32dac1,_0x4ba69f){return _0x32dac1+Math['random']()*(_0x4ba69f-_0x32dac1);}function _0x55a093(_0x449cd4){var _0x94f18b=(function(){var _0x3590ab=a0_0x489d;if(_0x3590ab(0x1ce)==typeof Reflect||!Reflect[_0x3590ab(0x304)])return!0x1;if(Reflect[_0x3590ab(0x304)]['sham'])return!0x1;if(_0x3590ab(0x28a)==typeof Proxy)return!0x0;try{return Boolean[_0x3590ab(0x2e0)][_0x3590ab(0x291)][_0x3590ab(0x2e3)](Reflect['construct'](Boolean,[],function(){})),!0x0;}catch(_0x4cbe36){return!0x1;}}());return function(){var _0x115181=a0_0x489d,_0x3af438,_0x2ac615=_0x3499a8()(_0x449cd4);if(_0x94f18b){var _0x209d8e=_0x3499a8()(this)[_0x115181(0x1f1)];_0x3af438=Reflect[_0x115181(0x304)](_0x2ac615,arguments,_0x209d8e);}else _0x3af438=_0x2ac615[_0x115181(0x220)](this,arguments);return _0x26b7a2()(this,_0x3af438);};}var _0x3e619a=_0x3a7368[_0x42ce2c(0x1db)],_0x26bd2e=function(_0x52d529){var _0x204dd6=_0x42ce2c;_0x54bae6()(_0x2a0a59,_0x52d529);var _0x1de45d=_0x55a093(_0x2a0a59);function _0x2a0a59(){var _0xd83fcd=a0_0x489d,_0x37c34b,_0x47a5f6=arguments[_0xd83fcd(0x296)]>0x0&&void 0x0!==arguments[0x0]?arguments[0x0]:{};return _0x27eb9()(this,_0x2a0a59),(_0x37c34b=_0x1de45d['call'](this,_0x47a5f6))['_setOptionsHook'](_0x47a5f6),_0x37c34b[_0xd83fcd(0x28b)]=null,_0x37c34b;}return _0x2b415b()(_0x2a0a59,[{'key':_0x204dd6(0x21c),'value':function(_0x22266f){var _0xeae636=_0x204dd6;this[_0xeae636(0x270)]=[0x0,0x0],this[_0xeae636(0x29f)]=[],this[_0xeae636(0x2db)]=_0x22266f[_0xeae636(0x2db)]||0x32,this['_particlesNumber']=_0x22266f['particlesNumber']||0x1000,this[_0xeae636(0x31b)]=_0x22266f[_0xeae636(0x1fd)]||0x78,this[_0xeae636(0x31d)]=0x3e8/(_0x22266f['frameRate']||0xa),this[_0xeae636(0x1de)]=_0x3e619a[_0xeae636(0x256)](this[_0xeae636(0x1e8)][_0xeae636(0x31e)],!0x1),this[_0xeae636(0x325)]=_0x22266f[_0xeae636(0x325)]||_0xeae636(0x2b3),this[_0xeae636(0x2f8)]=_0x22266f[_0xeae636(0x2f8)]||0x1,this['fixedHeight']=_0x3e619a[_0xeae636(0x256)](_0x22266f[_0xeae636(0x25a)],0x0),this[_0xeae636(0x2a0)]=_0x3e619a[_0xeae636(0x256)](_0x22266f[_0xeae636(0x2a0)],!0x1);}},{'key':'layer','get':function(){var _0x3fda33=_0x204dd6;return this[_0x3fda33(0x28b)];}},{'key':_0x204dd6(0x329),'get':function(){var _0x47ffa9=_0x204dd6;return this[_0x47ffa9(0x2b2)][_0x47ffa9(0x2ad)][_0x47ffa9(0x28b)][_0x47ffa9(0x241)];}},{'key':_0x204dd6(0x1b7),'get':function(){var _0x535925=_0x204dd6;return this['_map']['scene'][_0x535925(0x28b)][_0x535925(0x1c6)];}},{'key':_0x204dd6(0x31e),'get':function(){var _0x5832de=_0x204dd6;return this[_0x5832de(0x1de)];},'set':function(_0x7b357b){var _0x36b9e7=_0x204dd6;this[_0x36b9e7(0x1de)]=_0x7b357b,this['canvas']&&(this[_0x36b9e7(0x28b)][_0x36b9e7(0x288)][_0x36b9e7(0x321)]=_0x7b357b?_0x36b9e7(0x210):_0x36b9e7(0x1b6));}},{'key':_0x204dd6(0x2db),'get':function(){return this['_speedRate'];},'set':function(_0x4df512){var _0x325d72=_0x204dd6;this['_speedRate']=0x64*(0x64-(_0x4df512>0x63?0x63:_0x4df512)),this[_0x325d72(0x225)]();}},{'key':_0x204dd6(0x271),'get':function(){var _0x463f65=_0x204dd6;return this[_0x463f65(0x26a)];},'set':function(_0x38e833){var _0x3604f9=_0x204dd6,_0x3e2f24=this;this[_0x3604f9(0x26a)]=_0x38e833,clearTimeout(this[_0x3604f9(0x2c7)]),this[_0x3604f9(0x2c7)]=setTimeout(function(){_0x3e2f24['redraw']();},0x1f4);}},{'key':_0x204dd6(0x1fd),'get':function(){var _0x2e3cde=_0x204dd6;return this[_0x2e3cde(0x31b)];},'set':function(_0x4375f3){var _0x1104ee=_0x204dd6,_0x107891=this;this[_0x1104ee(0x31b)]=_0x4375f3,clearTimeout(this[_0x1104ee(0x2c7)]),this['_canrefresh']=setTimeout(function(){var _0x2c9f89=_0x1104ee;_0x107891[_0x2c9f89(0x203)]();},0x1f4);}},{'key':_0x204dd6(0x229),'get':function(){var _0x5a7963=_0x204dd6;return this[_0x5a7963(0x32f)];},'set':function(_0x536075){var _0x124e0a=_0x204dd6;this[_0x124e0a(0x2c0)](_0x536075);}},{'key':'_showHook','value':function(_0x271ba1){var _0x5d69a4=_0x204dd6;_0x271ba1?this[_0x5d69a4(0x1c1)]():(this[_0x5d69a4(0x32f)]&&(this[_0x5d69a4(0x1e8)][_0x5d69a4(0x229)]=this[_0x5d69a4(0x32f)]),this[_0x5d69a4(0x254)]());}},{'key':_0x204dd6(0x2a3),'value':function(){}},{'key':_0x204dd6(0x1c1),'value':function(){var _0x835ec4=_0x204dd6;this['canvas']=this['_createCanvas'](),this[_0x835ec4(0x1e3)]=this[_0x835ec4(0x28b)][_0x835ec4(0x25f)]('2d'),this[_0x835ec4(0x21d)](),this[_0x835ec4(0x1e8)][_0x835ec4(0x229)]&&this[_0x835ec4(0x2c0)](this['options'][_0x835ec4(0x229)]);}},{'key':_0x204dd6(0x254),'value':function(){var _0x205bc1=_0x204dd6;this[_0x205bc1(0x23c)](),this[_0x205bc1(0x2e2)](),this[_0x205bc1(0x28b)]&&(this[_0x205bc1(0x2b2)][_0x205bc1(0x2dc)][_0x205bc1(0x28c)](this['canvas']),delete this[_0x205bc1(0x28b)]);}},{'key':_0x204dd6(0x320),'value':function(){var _0x6ebd4f=_0x204dd6,_0x1b657a=window['document']['createElement'](_0x6ebd4f(0x28b));_0x1b657a[_0x6ebd4f(0x288)][_0x6ebd4f(0x2c1)]='absolute',_0x1b657a[_0x6ebd4f(0x288)][_0x6ebd4f(0x268)]=_0x6ebd4f(0x2d8),_0x1b657a['style'][_0x6ebd4f(0x26c)]='0px',_0x1b657a['style'][_0x6ebd4f(0x280)]=_0x6ebd4f(0x274),_0x1b657a[_0x6ebd4f(0x288)][_0x6ebd4f(0x25b)]='100%',_0x1b657a[_0x6ebd4f(0x288)][_0x6ebd4f(0x31e)]=this[_0x6ebd4f(0x1de)]?_0x6ebd4f(0x311):_0x6ebd4f(0x1b6),_0x1b657a[_0x6ebd4f(0x288)][_0x6ebd4f(0x279)]=0xa,_0x1b657a['setAttribute']('id',_0x6ebd4f(0x24b)),_0x1b657a['setAttribute'](_0x6ebd4f(0x1bf),_0x6ebd4f(0x24b)),this['_map'][_0x6ebd4f(0x2dc)][_0x6ebd4f(0x2b8)](_0x1b657a);var _0xe6b8af=this[_0x6ebd4f(0x2b2)][_0x6ebd4f(0x2ad)];return _0x1b657a[_0x6ebd4f(0x280)]=_0xe6b8af[_0x6ebd4f(0x28b)][_0x6ebd4f(0x241)],_0x1b657a['height']=_0xe6b8af[_0x6ebd4f(0x28b)][_0x6ebd4f(0x1c6)],_0x1b657a;}},{'key':_0x204dd6(0x32a),'value':function(){var _0x5bb6d7=_0x204dd6;this[_0x5bb6d7(0x28b)]&&(this[_0x5bb6d7(0x28b)][_0x5bb6d7(0x280)]=this[_0x5bb6d7(0x329)],this[_0x5bb6d7(0x28b)][_0x5bb6d7(0x25b)]=this['canvasHeight']);}},{'key':_0x204dd6(0x21d),'value':function(){var _0x4ed97d=_0x204dd6,_0x267eea=this,_0x45d0c0=Date[_0x4ed97d(0x1c0)]();!function _0x3d602e(){var _0x4bd0f7=_0x4ed97d;_0x267eea[_0x4bd0f7(0x25c)]=window[_0x4bd0f7(0x275)](_0x3d602e);var _0xf57261=Date['now'](),_0x4f40f3=_0xf57261-_0x45d0c0;_0x4f40f3>_0x267eea[_0x4bd0f7(0x31d)]&&(_0x45d0c0=_0xf57261-_0x4f40f3%_0x267eea[_0x4bd0f7(0x31d)],_0x267eea['update']());}(),window['addEventListener'](_0x4ed97d(0x32a),this[_0x4ed97d(0x32a)][_0x4ed97d(0x27d)](this),!0x1),this[_0x4ed97d(0x2a9)]=!0x1,this[_0x4ed97d(0x314)]=!0x1,this['_map']['on'](_0x3a7368[_0x4ed97d(0x1e6)][_0x4ed97d(0x2b4)],this['_onMapWhellEvent'],this),this[_0x4ed97d(0x2b2)]['on'](_0x3a7368[_0x4ed97d(0x1e6)][_0x4ed97d(0x24e)],this[_0x4ed97d(0x312)],this),this['_map']['on'](_0x3a7368[_0x4ed97d(0x1e6)][_0x4ed97d(0x2e6)],this[_0x4ed97d(0x2ce)],this),this[_0x4ed97d(0x2b2)]['on'](_0x3a7368['EventType'][_0x4ed97d(0x22c)],this['_onMouseMoveEvent'],this);}},{'key':_0x204dd6(0x2e2),'value':function(){var _0x5a5039=_0x204dd6;window[_0x5a5039(0x269)](this[_0x5a5039(0x25c)]),delete this[_0x5a5039(0x25c)],window[_0x5a5039(0x23a)](_0x5a5039(0x32a),this[_0x5a5039(0x32a)]),this[_0x5a5039(0x2b2)][_0x5a5039(0x2ea)](_0x3a7368[_0x5a5039(0x1e6)][_0x5a5039(0x2b4)],this[_0x5a5039(0x300)],this),this[_0x5a5039(0x2b2)][_0x5a5039(0x2ea)](_0x3a7368[_0x5a5039(0x1e6)]['mouseDown'],this[_0x5a5039(0x312)],this),this[_0x5a5039(0x2b2)][_0x5a5039(0x2ea)](_0x3a7368[_0x5a5039(0x1e6)][_0x5a5039(0x2e6)],this['_onMouseUpEvent'],this),this[_0x5a5039(0x2b2)][_0x5a5039(0x2ea)](_0x3a7368['EventType'][_0x5a5039(0x22c)],this['_onMouseMoveEvent'],this);}},{'key':_0x204dd6(0x300),'value':function(_0x53de59){var _0x41deaa=_0x204dd6,_0x2899e5=this;clearTimeout(this[_0x41deaa(0x267)]),this[_0x41deaa(0x23f)]&&this[_0x41deaa(0x28b)]&&(this[_0x41deaa(0x28b)][_0x41deaa(0x288)]['visibility']=_0x41deaa(0x281),this[_0x41deaa(0x267)]=setTimeout(function(){var _0x57c478=_0x41deaa;_0x2899e5[_0x57c478(0x23f)]&&(_0x2899e5[_0x57c478(0x203)](),_0x2899e5[_0x57c478(0x28b)][_0x57c478(0x288)][_0x57c478(0x233)]='visible');},0xc8));}},{'key':'_onMouseDownEvent','value':function(_0x5ca9d8){this['mouse_down']=!0x0;}},{'key':'_onMouseMoveEvent','value':function(_0x273790){var _0x33f7c0=_0x204dd6;this['show']&&this[_0x33f7c0(0x28b)]&&this[_0x33f7c0(0x2a9)]&&(this[_0x33f7c0(0x28b)][_0x33f7c0(0x288)][_0x33f7c0(0x233)]=_0x33f7c0(0x281),this[_0x33f7c0(0x314)]=!0x0);}},{'key':_0x204dd6(0x2ce),'value':function(_0x556257){var _0x172663=_0x204dd6;this[_0x172663(0x23f)]&&this[_0x172663(0x28b)]&&(this[_0x172663(0x2a9)]&&this[_0x172663(0x314)]&&this[_0x172663(0x203)](),this['canvas']['style']['visibility']=_0x172663(0x21f),this[_0x172663(0x2a9)]=!0x1,this['mouse_move']=!0x1);}},{'key':_0x204dd6(0x203),'value':function(){var _0x4725fc=_0x204dd6;this[_0x4725fc(0x23f)]&&this[_0x4725fc(0x1b2)]&&(this[_0x4725fc(0x29f)]=[],this[_0x4725fc(0x1c7)]());}},{'key':'setData','value':function(_0x104dda){var _0xf3f3f9=_0x204dd6;this[_0xf3f3f9(0x23c)](),this['windData']=_0x104dda,this[_0xf3f3f9(0x1b2)]=new _0x276707(this[_0xf3f3f9(0x32f)],this[_0xf3f3f9(0x2a0)]),this[_0xf3f3f9(0x1c7)]();}},{'key':'drawWind','value':function(){var _0x2e13fa=_0x204dd6;this[_0x2e13fa(0x225)]();for(var _0x5e5ba7=0x0;_0x5e5ba7<this[_0x2e13fa(0x271)];_0x5e5ba7++){var _0x57a84d=this[_0x2e13fa(0x1d4)](new _0x3ee683());this['particles'][_0x2e13fa(0x240)](_0x57a84d);}this[_0x2e13fa(0x1e3)]['fillStyle']=_0x2e13fa(0x1da),this[_0x2e13fa(0x1e3)][_0x2e13fa(0x30b)]=0.6,this[_0x2e13fa(0x2f9)]();}},{'key':_0x204dd6(0x225),'value':function(){var _0x5782d3=_0x204dd6;this[_0x5782d3(0x1b2)]&&(this[_0x5782d3(0x270)]=[(this[_0x5782d3(0x1b2)]['xmax']-this[_0x5782d3(0x1b2)][_0x5782d3(0x218)])/this[_0x5782d3(0x2db)],(this['windField'][_0x5782d3(0x307)]-this[_0x5782d3(0x1b2)][_0x5782d3(0x217)])/this['speedRate']]);}},{'key':'update','value':function(){var _0x3f5d04=_0x204dd6,_0xeb57a=this;if(this['show']&&!(this[_0x3f5d04(0x29f)][_0x3f5d04(0x296)]<=0x0)){var _0x28c9e3=null,_0x419802=null,_0x25ba3b=null;this['particles'][_0x3f5d04(0x257)](function(_0xaa00ef){var _0x45bfa5=_0x3f5d04;if(_0xaa00ef[_0x45bfa5(0x222)]<=0x0&&_0xeb57a[_0x45bfa5(0x1d4)](_0xaa00ef),_0xaa00ef['age']>0x0){var _0x5ce072=_0xaa00ef[_0x45bfa5(0x1ef)],_0x10e673=_0xaa00ef[_0x45bfa5(0x23e)];(_0x25ba3b=_0xeb57a['windField'][_0x45bfa5(0x250)](_0x5ce072,_0x10e673))?(_0x28c9e3=_0x5ce072+_0xeb57a[_0x45bfa5(0x270)][0x0]*_0x25ba3b[0x0],_0x419802=_0x10e673+_0xeb57a[_0x45bfa5(0x270)][0x1]*_0x25ba3b[0x1],_0xaa00ef[_0x45bfa5(0x1f7)]=_0x5ce072,_0xaa00ef[_0x45bfa5(0x1c8)]=_0x10e673,_0xaa00ef[_0x45bfa5(0x1ef)]=_0x28c9e3,_0xaa00ef[_0x45bfa5(0x23e)]=_0x419802,_0xaa00ef[_0x45bfa5(0x222)]--):_0xaa00ef[_0x45bfa5(0x222)]=0x0;}}),this[_0x3f5d04(0x2ed)]();}}},{'key':'_tomap','value':function(_0x43952a,_0x211f2c,_0x4ec04f){var _0x27837d=_0x204dd6,_0x2c2697=_0x3e619a[_0x27837d(0x1f2)][_0x27837d(0x2bc)](_0x43952a,_0x211f2c,this['fixedHeight']),_0x569be1=this[_0x27837d(0x2b2)][_0x27837d(0x2ad)];if(_0x569be1[_0x27837d(0x247)]===_0x3e619a[_0x27837d(0x276)][_0x27837d(0x20e)]&&!new _0x3e619a[(_0x27837d(0x2d7))](_0x569be1[_0x27837d(0x204)][_0x27837d(0x1f6)],_0x569be1[_0x27837d(0x23b)][_0x27837d(0x336)])['isPointVisible'](_0x2c2697))return _0x4ec04f[_0x27837d(0x222)]=0x0,null;var _0x524b1e=_0x3e619a[_0x27837d(0x1e7)]['wgs84ToWindowCoordinates'](this[_0x27837d(0x2b2)][_0x27837d(0x2ad)],_0x2c2697);return _0x524b1e?[_0x524b1e['x'],_0x524b1e['y']]:null;}},{'key':_0x204dd6(0x2ed),'value':function(){var _0x4c369b=_0x204dd6,_0x12df97=this,_0x1ee25f=this[_0x4c369b(0x29f)];this[_0x4c369b(0x1e3)][_0x4c369b(0x2f8)]=_0x12df97[_0x4c369b(0x2f8)],this[_0x4c369b(0x1e3)][_0x4c369b(0x286)]='destination-in',this[_0x4c369b(0x1e3)][_0x4c369b(0x1cb)](0x0,0x0,this['canvasWidth'],this[_0x4c369b(0x1b7)]),this[_0x4c369b(0x1e3)][_0x4c369b(0x286)]=_0x4c369b(0x1bd),this['canvasContext'][_0x4c369b(0x30b)]=0.9,this[_0x4c369b(0x1e3)]['beginPath'](),this['canvasContext'][_0x4c369b(0x20b)]=this[_0x4c369b(0x325)];var _0x56ea8f=this[_0x4c369b(0x2b2)]['scene']['mode']!==_0x3e619a[_0x4c369b(0x276)][_0x4c369b(0x20e)];_0x1ee25f[_0x4c369b(0x257)](function(_0x4fe9a8){var _0x31c7c5=_0x4c369b,_0x82af6c=_0x12df97['_tomap'](_0x4fe9a8['lng'],_0x4fe9a8[_0x31c7c5(0x1c8)],_0x4fe9a8),_0x3b6962=_0x12df97[_0x31c7c5(0x2f4)](_0x4fe9a8[_0x31c7c5(0x1ef)],_0x4fe9a8[_0x31c7c5(0x23e)],_0x4fe9a8);if(null!=_0x82af6c&&null!=_0x3b6962){var _0x597b47=Math[_0x31c7c5(0x335)](_0x82af6c[0x0]-_0x3b6962[0x0]);_0x56ea8f&&_0x597b47>=_0x12df97[_0x31c7c5(0x329)]||(_0x12df97[_0x31c7c5(0x1e3)][_0x31c7c5(0x1d0)](_0x82af6c[0x0],_0x82af6c[0x1]),_0x12df97[_0x31c7c5(0x1e3)][_0x31c7c5(0x1d5)](_0x3b6962[0x0],_0x3b6962[0x1]));}}),this['canvasContext'][_0x4c369b(0x293)]();}},{'key':_0x204dd6(0x1d4),'value':function(_0x408f7a){var _0x53dbdc=_0x204dd6;for(var _0x47f86f,_0x59e346,_0x4ca7b0=0x0;_0x4ca7b0<0x1e&&(_0x47f86f=this[_0x53dbdc(0x1b2)]['getRandomLatLng'](),!((_0x59e346=this[_0x53dbdc(0x1b2)][_0x53dbdc(0x250)](_0x47f86f[_0x53dbdc(0x1f7)],_0x47f86f['lat']))&&_0x59e346[0x2]>0x0));_0x4ca7b0++);if(!_0x59e346)return _0x408f7a;var _0x12d375=_0x47f86f['lng']+this[_0x53dbdc(0x270)][0x0]*_0x59e346[0x0],_0x15d98d=_0x47f86f[_0x53dbdc(0x1c8)]+this[_0x53dbdc(0x270)][0x1]*_0x59e346[0x1];return _0x408f7a[_0x53dbdc(0x1f7)]=_0x47f86f[_0x53dbdc(0x1f7)],_0x408f7a[_0x53dbdc(0x1c8)]=_0x47f86f[_0x53dbdc(0x1c8)],_0x408f7a[_0x53dbdc(0x1ef)]=_0x12d375,_0x408f7a[_0x53dbdc(0x23e)]=_0x15d98d,_0x408f7a[_0x53dbdc(0x222)]=Math[_0x53dbdc(0x2bb)](Math['random']()*this[_0x53dbdc(0x1fd)]),_0x408f7a;}},{'key':_0x204dd6(0x23c),'value':function(){var _0x214431=_0x204dd6;this[_0x214431(0x29f)]=[],delete this[_0x214431(0x1b2)],delete this['windData'];}}]),_0x2a0a59;}(_0x3a7368[_0x42ce2c(0x2d6)]['BaseLayer']);_0x3a7368['LayerUtil'][_0x42ce2c(0x32b)](_0x42ce2c(0x1f0),_0x26bd2e),_0x3a7368[_0x42ce2c(0x2d6)]['CanvasWindLayer']=_0x26bd2e;var _0x41bc41=_0x3a7368['Cesium'];function _0x210aa3(_0x591ef3,_0x47dbcf){var _0x7062db=_0x42ce2c;return _0x591ef3*Math[_0x7062db(0x1b9)](_0x41bc41[_0x7062db(0x292)][_0x7062db(0x1d7)](_0x47dbcf));}function _0x235d36(_0x512dc3,_0x513b28){var _0x4d70b0=_0x42ce2c;return _0x512dc3*Math[_0x4d70b0(0x2f0)](_0x41bc41[_0x4d70b0(0x292)][_0x4d70b0(0x1d7)](_0x513b28));}function _0x2c4628(_0xea9e4f,_0x4e602b){var _0x5c7a61=_0x42ce2c;return Math[_0x5c7a61(0x22a)](Math[_0x5c7a61(0x238)](_0xea9e4f,0x2)+Math[_0x5c7a61(0x238)](_0x4e602b,0x2));}function _0x3cb345(_0x16d037,_0x35584b){var _0x2a2463=_0x42ce2c,_0x4c76b1=_0x41bc41[_0x2a2463(0x292)][_0x2a2463(0x1cf)](Math[_0x2a2463(0x1ed)](_0x35584b,_0x16d037));return _0x4c76b1+=_0x4c76b1<0x0?0x168:0x0;}_0x3a7368[_0x42ce2c(0x2cc)]=_0x278c72;}]);}));function a0_0x3786(){var _0x1b0a14=['tlng','canvasWind','constructor','Cartesian3','GeometryAttributes','ShaderProgram','setPrototypeOf','ellipsoid','lng','context','attributeLocations','getPrototypeOf','fragmentShaderSource','getColorTexture','maxAge','nextTrails','getWind','fromGeometry','currentTrails','538248DFGEdp','redraw','globe','WMS_URL','addEventListener','defined','array','Geometry','randomizeParticles','strokeStyle','ceil','random','SCENE3D','uniform\x20sampler2D\x20segmentsColorTexture;\x0d\x0auniform\x20sampler2D\x20segmentsDepthTexture;\x0d\x0a\x0d\x0auniform\x20sampler2D\x20currentTrailsColor;\x0d\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0d\x0a\x0d\x0auniform\x20float\x20fadeOpacity;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20vec4\x20pointsColor\x20=\x20texture2D(segmentsColorTexture,\x20textureCoordinate);\x0d\x0a\x20\x20\x20\x20vec4\x20trailsColor\x20=\x20texture2D(currentTrailsColor,\x20textureCoordinate);\x0d\x0a\x0d\x0a\x20\x20\x20\x20trailsColor\x20=\x20floor(fadeOpacity\x20*\x20255.0\x20*\x20trailsColor)\x20/\x20255.0;\x20//\x20make\x20sure\x20the\x20trailsColor\x20will\x20be\x20strictly\x20decreased\x0d\x0a\x0d\x0a\x20\x20\x20\x20float\x20pointsDepth\x20=\x20texture2D(segmentsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20trailsDepth\x20=\x20texture2D(trailsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture2D(czm_globeDepthTexture,\x20textureCoordinate));\x0d\x0a\x0d\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0d\x0a\x20\x20\x20\x20if\x20(pointsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20gl_FragColor\x20+\x20pointsColor;\x0d\x0a\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20if\x20(trailsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20gl_FragColor\x20+\x20trailsColor;\x0d\x0a\x20\x20\x20\x20}\x0d\x0a\x20\x20\x20\x20gl_FragDepthEXT\x20=\x20min(pointsDepth,\x20trailsDepth);\x0d\x0a}','all','filter','grid','add','colorTable','RenderState','BaseLayer','ymin','xmin','computeViewRectangle','createRenderingPrimitives','removeAll','_setOptionsHook','bindEvent','currentParticlesSpeed','visible','apply','exports','age','Module','setOptions','_calcStep','_onMap_preRenderEvent','@@iterator','south','data','sqrt','clearFramebuffers','mouseMove','execute','Sampler','east','Matrix4','ShaderSource','umin','visibility','destroyParticlesTextures','PI_OVER_THREE','Texture','STATIC_DRAW','pow','canvasResize','removeEventListener','camera','clear','drawingBufferWidth','tlat','show','push','clientWidth','getU','arrayBufferView','__esModule','trails','getV','mode','vmax','TRIANGLES','particlesTextureSize','canvasWindy','getOwnPropertySymbols','clearCommand','mouseDown','from','getUVByPoint','outputTexture','green','floor','_removedHook','slice','defaultValue','forEach','mars3d','getOptions','fixedHeight','height','animateFrame','test','particlesRendering','getContext','hasOwnProperty','string','createParticlesTextures','setGeometry','createWindTextures','getUVByXY','createCommand','refreshTimer','top','cancelAnimationFrame','_particlesNumber','Cartesian2','left','particleSystem','_data','2743104fAEUQF','calc_speedRate','particlesNumber','wind','blending','100%','requestAnimationFrame','SceneMode','ZERO','uniformMap','zIndex','segments','preExecute','Pass','bind','source','createRenderingTextures','width','hidden','drawingBufferHeight','BufferUsage','vertexArray','viewport','globalCompositeOperation','ComputeCommand','style','Framebuffer','function','canvas','removeChild','2078769qQlfKG','PrimitiveCollection','Object','createTexture','valueOf','Math','stroke','getOwnPropertyDescriptors','createFramebuffer','length','destroy','Compute','writable','Derived\x20constructors\x20may\x20only\x20return\x20object\x20or\x20undefined','vdata','Cannot\x20call\x20a\x20class\x20as\x20a\x20function','particlesTextures','getSpeed','particles','reverseY','uniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20nextParticlesSpeed;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec4\x20randomParticle\x20=\x20texture2D(postProcessingPosition,\x20v_textureCoordinates);\x0a\x20\x20\x20\x20vec4\x20particleSpeed\x20=\x20texture2D(nextParticlesSpeed,\x20v_textureCoordinates);\x0a\x0a\x20\x20\x20\x20if\x20(randomParticle.a\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20particleSpeed;\x0a\x20\x20\x20\x20}\x0a}','max','_mountedHook','Set','depthTexture','default','FLOAT','pixelSize','mouse_down','createComputingPrimitives','postProcessingSpeed','object','scene','enumerable','currentParticlesPosition','CanvasWindLayer','currentTrailsDepth','_map','#ffffff','wheel','defineProperty','THREE_PI_OVER_TWO','TWO_PI','appendChild','LayerUtil','updateViewerParameters','round','fromDegrees','colors','remove','1650354fMNVyS','setData','position','latRange','globeLayer','particlesComputing','Rectangle','commandToExecute','_canrefresh','mars3dWind','dropRateBump','levmax','commandType','WindUtil','_onMouseMoveEvent','_onMouseUpEvent','241747iTaSUu','depthTest','11850748dhMngA','defineProperties','RGBA','addPrimitives','rgb(206,255,255)','layer','EllipsoidalOccluder','0px','speedFactor','uniform\x20sampler2D\x20colorTable;\x0a\x0avarying\x20float\x20speedNormalization;\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20gl_FragColor\x20=\x20texture2D(colorTable,\x20vec2(speedNormalization,\x200.0));\x0a}','speedRate','container','preRender','nextParticlesPosition','keys','prototype','once','unbindEvent','call','DEPTH_COMPONENT','uniform\x20sampler2D\x20nextParticlesPosition;\x0auniform\x20sampler2D\x20nextParticlesSpeed;\x20//\x20(u,\x20v,\x20w,\x20normalization)\x0a\x0a//\x20range\x20(min,\x20max)\x0auniform\x20vec2\x20lonRange;\x0auniform\x20vec2\x20latRange;\x0a\x0auniform\x20float\x20randomCoefficient;\x20//\x20use\x20to\x20improve\x20the\x20pseudo-random\x20generator\x0auniform\x20float\x20dropRate;\x20//\x20drop\x20rate\x20is\x20a\x20chance\x20a\x20particle\x20will\x20restart\x20at\x20random\x20position\x20to\x20avoid\x20degeneration\x0auniform\x20float\x20dropRateBump;\x0a\x0avarying\x20vec2\x20v_textureCoordinates;\x0a\x0a//\x20pseudo-random\x20generator\x0aconst\x20vec3\x20randomConstants\x20=\x20vec3(12.9898,\x2078.233,\x204375.85453);\x0aconst\x20vec2\x20normalRange\x20=\x20vec2(0.0,\x201.0);\x0afloat\x20rand(vec2\x20seed,\x20vec2\x20range)\x20{\x0a\x20\x20\x20\x20vec2\x20randomSeed\x20=\x20randomCoefficient\x20*\x20seed;\x0a\x20\x20\x20\x20float\x20temp\x20=\x20dot(randomConstants.xy,\x20randomSeed);\x0a\x20\x20\x20\x20temp\x20=\x20fract(sin(temp)\x20*\x20(randomConstants.z\x20+\x20temp));\x0a\x20\x20\x20\x20return\x20temp\x20*\x20(range.y\x20-\x20range.x)\x20+\x20range.x;\x0a}\x0a\x0avec3\x20generateRandomParticle(vec2\x20seed,\x20float\x20lev)\x20{\x0a\x20\x20\x20\x20//\x20ensure\x20the\x20longitude\x20is\x20in\x20[0,\x20360]\x0a\x20\x20\x20\x20float\x20randomLon\x20=\x20mod(rand(seed,\x20lonRange),\x20360.0);\x0a\x20\x20\x20\x20float\x20randomLat\x20=\x20rand(-seed,\x20latRange);\x0a\x0a\x20\x20\x20\x20return\x20vec3(randomLon,\x20randomLat,\x20lev);\x0a}\x0a\x0abool\x20particleOutbound(vec3\x20particle)\x20{\x0a\x20\x20\x20\x20return\x20particle.y\x20<\x20-90.0\x20||\x20particle.y\x20>\x2090.0;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec3\x20nextParticle\x20=\x20texture2D(nextParticlesPosition,\x20v_textureCoordinates).rgb;\x0a\x20\x20\x20\x20vec4\x20nextSpeed\x20=\x20texture2D(nextParticlesSpeed,\x20v_textureCoordinates);\x0a\x20\x20\x20\x20float\x20particleDropRate\x20=\x20dropRate\x20+\x20dropRateBump\x20*\x20nextSpeed.a;\x0a\x0a\x20\x20\x20\x20vec2\x20seed1\x20=\x20nextParticle.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20\x20\x20vec2\x20seed2\x20=\x20nextSpeed.xy\x20+\x20v_textureCoordinates;\x0a\x20\x20\x20\x20vec3\x20randomParticle\x20=\x20generateRandomParticle(seed1,\x20nextParticle.z);\x0a\x20\x20\x20\x20float\x20randomNumber\x20=\x20rand(seed2,\x20normalRange);\x0a\x0a\x20\x20\x20\x20if\x20(randomNumber\x20<\x20particleDropRate\x20||\x20particleOutbound(nextParticle))\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(randomParticle,\x201.0);\x20//\x201.0\x20means\x20this\x20is\x20a\x20random\x20particle\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(nextParticle,\x200.0);\x0a\x20\x20\x20\x20}\x0a}','mouseUp','lonRange','levmin','postProcessingPosition','off','IDENTITY','_calcUV','_drawLines','segmentsDepth','DrawCommand','sin','applyViewerParameters','nextParticlesSpeed','Color','_tomap','globeBoundingSphere','screen','primitiveType','lineWidth','update','windTextures','log','dimensions','PixelFormat','randomBetween','create','_onMapWhellEvent','TextureMinificationFilter','dropRate','NEAREST','construct','primitives','ClearCommand','ymax','toString','nextTrailsDepth','fromCache','globalAlpha','getDefaultRenderState','TextureMagnificationFilter','toGridXY','getOwnPropertyDescriptor','name','auto','_onMouseDownEvent','DISABLE_LOG_DEPTH_FRAGMENT_WRITE','mouse_move','particlesWind','blue','Invalid\x20attempt\x20to\x20spread\x20non-iterable\x20instance.\x0aIn\x20order\x20to\x20be\x20iterable,\x20non-array\x20objects\x20must\x20have\x20a\x20[Symbol.iterator]()\x20method.','geometry','Draw','refreshParticles','_maxAge','DISABLE_GL_POSITION_LOG_DEPTH','frameTime','pointerEvents','5934795eixlJL','_createCanvas','pointer-events','ComponentDatatype','RGB','getExtent','color','isInExtent','clampToLatitudeRange','value','canvasWidth','resize','register','GeometryAttribute','DepthFunction','rows','windData','fill','udata','iterator','textures','updateSpeed','abs','positionWC','attribute\x20vec2\x20st;\x0a//\x20it\x20is\x20not\x20normal\x20itself,\x20but\x20used\x20to\x20control\x20normal\x0aattribute\x20vec3\x20normal;\x20//\x20(point\x20to\x20use,\x20offset\x20sign,\x20not\x20used\x20component)\x0a\x0auniform\x20sampler2D\x20currentParticlesPosition;\x0auniform\x20sampler2D\x20postProcessingPosition;\x0auniform\x20sampler2D\x20postProcessingSpeed;\x0a\x0auniform\x20float\x20particleHeight;\x0a\x0auniform\x20float\x20aspect;\x0auniform\x20float\x20pixelSize;\x0auniform\x20float\x20lineWidth;\x0a\x0avarying\x20float\x20speedNormalization;\x0a\x0avec3\x20convertCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20WGS84\x20(lon,\x20lat,\x20lev)\x20->\x20ECEF\x20(x,\x20y,\x20z)\x0a\x20\x20\x20\x20//\x20see\x20https://en.wikipedia.org/wiki/Geographic_coordinate_conversion#From_geodetic_to_ECEF_coordinates\x20for\x20detail\x0a\x0a\x20\x20\x20\x20//\x20WGS\x2084\x20geometric\x20constants\x20\x0a\x20\x20\x20\x20float\x20a\x20=\x206378137.0;\x20//\x20Semi-major\x20axis\x20\x0a\x20\x20\x20\x20float\x20b\x20=\x206356752.3142;\x20//\x20Semi-minor\x20axis\x20\x0a\x20\x20\x20\x20float\x20e2\x20=\x206.69437999014e-3;\x20//\x20First\x20eccentricity\x20squared\x0a\x0a\x20\x20\x20\x20float\x20latitude\x20=\x20radians(lonLatLev.y);\x0a\x20\x20\x20\x20float\x20longitude\x20=\x20radians(lonLatLev.x);\x0a\x0a\x20\x20\x20\x20float\x20cosLat\x20=\x20cos(latitude);\x0a\x20\x20\x20\x20float\x20sinLat\x20=\x20sin(latitude);\x0a\x20\x20\x20\x20float\x20cosLon\x20=\x20cos(longitude);\x0a\x20\x20\x20\x20float\x20sinLon\x20=\x20sin(longitude);\x0a\x0a\x20\x20\x20\x20float\x20N_Phi\x20=\x20a\x20/\x20sqrt(1.0\x20-\x20e2\x20*\x20sinLat\x20*\x20sinLat);\x0a\x20\x20\x20\x20float\x20h\x20=\x20particleHeight;\x20//\x20it\x20should\x20be\x20high\x20enough\x20otherwise\x20the\x20particle\x20may\x20not\x20pass\x20the\x20terrain\x20depth\x20test\x0a\x0a\x20\x20\x20\x20vec3\x20cartesian\x20=\x20vec3(0.0);\x0a\x20\x20\x20\x20cartesian.x\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20cosLon;\x0a\x20\x20\x20\x20cartesian.y\x20=\x20(N_Phi\x20+\x20h)\x20*\x20cosLat\x20*\x20sinLon;\x0a\x20\x20\x20\x20cartesian.z\x20=\x20((b\x20*\x20b)\x20/\x20(a\x20*\x20a)\x20*\x20N_Phi\x20+\x20h)\x20*\x20sinLat;\x0a\x20\x20\x20\x20return\x20cartesian;\x0a}\x0a\x0avec4\x20calcProjectedCoordinate(vec3\x20lonLatLev)\x20{\x0a\x20\x20\x20\x20//\x20the\x20range\x20of\x20longitude\x20in\x20Cesium\x20is\x20[-180,\x20180]\x20but\x20the\x20range\x20of\x20longitude\x20in\x20the\x20NetCDF\x20file\x20is\x20[0,\x20360]\x0a\x20\x20\x20\x20//\x20[0,\x20180]\x20is\x20corresponding\x20to\x20[0,\x20180]\x20and\x20[180,\x20360]\x20is\x20corresponding\x20to\x20[-180,\x200]\x0a\x20\x20\x20\x20lonLatLev.x\x20=\x20mod(lonLatLev.x\x20+\x20180.0,\x20360.0)\x20-\x20180.0;\x0a\x20\x20\x20\x20vec3\x20particlePosition\x20=\x20convertCoordinate(lonLatLev);\x0a\x20\x20\x20\x20vec4\x20projectedCoordinate\x20=\x20czm_modelViewProjection\x20*\x20vec4(particlePosition,\x201.0);\x0a\x20\x20\x20\x20return\x20projectedCoordinate;\x0a}\x0a\x0avec4\x20calcOffset(vec4\x20currentProjectedCoordinate,\x20vec4\x20nextProjectedCoordinate,\x20float\x20offsetSign)\x20{\x0a\x20\x20\x20\x20vec2\x20aspectVec2\x20=\x20vec2(aspect,\x201.0);\x0a\x20\x20\x20\x20vec2\x20currentXY\x20=\x20(currentProjectedCoordinate.xy\x20/\x20currentProjectedCoordinate.w)\x20*\x20aspectVec2;\x0a\x20\x20\x20\x20vec2\x20nextXY\x20=\x20(nextProjectedCoordinate.xy\x20/\x20nextProjectedCoordinate.w)\x20*\x20aspectVec2;\x0a\x0a\x20\x20\x20\x20float\x20offsetLength\x20=\x20lineWidth\x20/\x202.0;\x0a\x20\x20\x20\x20vec2\x20direction\x20=\x20normalize(nextXY\x20-\x20currentXY);\x0a\x20\x20\x20\x20vec2\x20normalVector\x20=\x20vec2(-direction.y,\x20direction.x);\x0a\x20\x20\x20\x20normalVector.x\x20=\x20normalVector.x\x20/\x20aspect;\x0a\x20\x20\x20\x20normalVector\x20=\x20offsetLength\x20*\x20normalVector;\x0a\x0a\x20\x20\x20\x20vec4\x20offset\x20=\x20vec4(offsetSign\x20*\x20normalVector,\x200.0,\x200.0);\x0a\x20\x20\x20\x20return\x20offset;\x0a}\x0a\x0avoid\x20main()\x20{\x0a\x20\x20\x20\x20vec2\x20particleIndex\x20=\x20st;\x0a\x0a\x20\x20\x20\x20vec3\x20currentPosition\x20=\x20texture2D(currentParticlesPosition,\x20particleIndex).rgb;\x0a\x20\x20\x20\x20vec4\x20nextPosition\x20=\x20texture2D(postProcessingPosition,\x20particleIndex);\x0a\x0a\x20\x20\x20\x20vec4\x20currentProjectedCoordinate\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20vec4\x20nextProjectedCoordinate\x20=\x20vec4(0.0);\x0a\x20\x20\x20\x20if\x20(nextPosition.w\x20>\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20nextProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20currentProjectedCoordinate\x20=\x20calcProjectedCoordinate(currentPosition);\x0a\x20\x20\x20\x20\x20\x20\x20\x20nextProjectedCoordinate\x20=\x20calcProjectedCoordinate(nextPosition.xyz);\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20float\x20pointToUse\x20=\x20normal.x;\x20//\x20-1\x20is\x20currentProjectedCoordinate\x20and\x20+1\x20is\x20nextProjectedCoordinate\x0a\x20\x20\x20\x20float\x20offsetSign\x20=\x20normal.y;\x0a\x0a\x20\x20\x20\x20vec4\x20offset\x20=\x20pixelSize\x20*\x20calcOffset(currentProjectedCoordinate,\x20nextProjectedCoordinate,\x20offsetSign);\x0a\x20\x20\x20\x20if\x20(pointToUse\x20<\x200.0)\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20currentProjectedCoordinate\x20+\x20offset;\x0a\x20\x20\x20\x20}\x20else\x20{\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_Position\x20=\x20nextProjectedCoordinate\x20+\x20offset;\x0a\x20\x20\x20\x20}\x0a\x0a\x20\x20\x20\x20speedNormalization\x20=\x20texture2D(postProcessingSpeed,\x20particleIndex).a;\x0a}','mod','umax','windField','sham','rawRenderState','viewRectangleToLonLatRange','none','canvasHeight','xmax','cos','fadeOpacity','lev','LUMINANCE','lighter','WindLayer','class','now','_addedHook','Map','_bilinearInterpolation','maxParticles','viewerParameters','clientHeight','drawWind','lat','vertexShaderSource','min','fillRect','createSegmentsGeometry','framebuffers','undefined','toDegrees','moveTo','PrimitiveType','PixelDatatype','symbol','randomParticle','lineTo','canrefresh','toRadians','nextTrailsColor','cols','rgba(0,\x200,\x200,\x200.97)','Cesium','reverse','OPAQUE','_pointerEvents','configurable','commandList','segmentsColor','UNSIGNED_BYTE','canvasContext','north','framebuffer','EventType','SceneTransforms','options','shaderProgram','lon','VertexArray','uniform\x20sampler2D\x20trailsColorTexture;\x0d\x0auniform\x20sampler2D\x20trailsDepthTexture;\x0d\x0a\x0d\x0avarying\x20vec2\x20textureCoordinate;\x0d\x0a\x0d\x0avoid\x20main()\x20{\x0d\x0a\x20\x20\x20\x20vec4\x20trailsColor\x20=\x20texture2D(trailsColorTexture,\x20textureCoordinate);\x0d\x0a\x20\x20\x20\x20float\x20trailsDepth\x20=\x20texture2D(trailsDepthTexture,\x20textureCoordinate).r;\x0d\x0a\x20\x20\x20\x20float\x20globeDepth\x20=\x20czm_unpackDepth(texture2D(czm_globeDepthTexture,\x20textureCoordinate));\x0d\x0a\x0d\x0a\x20\x20\x20\x20if\x20(trailsDepth\x20<\x20globeDepth)\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20trailsColor;\x0d\x0a\x20\x20\x20\x20}\x20else\x20{\x0d\x0a\x20\x20\x20\x20\x20\x20\x20\x20gl_FragColor\x20=\x20vec4(0.0);\x0d\x0a\x20\x20\x20\x20}\x0d\x0a}','atan2','createRawRenderState'];a0_0x3786=function(){return _0x1b0a14;};return a0_0x3786();}